{"ast":null,"code":"var _jsxFileName = \"/Users/macbook1/Programming/jsstoma/client/src/pages/CreateOrder.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { Box, Heading, Text, Table, Thead, Tbody, Tr, Th, Td, TableContainer, Button, IconButton, Flex, Stack, Divider, Input, FormControl, FormLabel, Textarea, NumberInput, NumberInputField, NumberInputStepper, NumberIncrementStepper, NumberDecrementStepper, useColorModeValue, useToast, Spinner, Center, InputGroup, InputLeftElement, Badge, AlertDialog, AlertDialogBody, AlertDialogFooter, AlertDialogHeader, AlertDialogContent, AlertDialogOverlay, useDisclosure } from '@chakra-ui/react';\nimport { AddIcon, DeleteIcon, SearchIcon } from '@chakra-ui/icons';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst CreateOrder = () => {\n  _s();\n  const [products, setProducts] = useState([]);\n  const [cart, setCart] = useState([]);\n  const [notes, setNotes] = useState('');\n  const [searchTerm, setSearchTerm] = useState('');\n  const [loading, setLoading] = useState(true);\n  const [submitting, setSubmitting] = useState(false);\n  const {\n    isOpen,\n    onOpen,\n    onClose\n  } = useDisclosure();\n  const cancelRef = React.useRef();\n  const navigate = useNavigate();\n  const toast = useToast();\n\n  // Fetch available products with prices\n  useEffect(() => {\n    const fetchProducts = async () => {\n      try {\n        const res = await axios.get('/api/products');\n        // Filter out products without prices\n        setProducts(res.data.filter(p => p.price !== null));\n        setLoading(false);\n      } catch (err) {\n        console.error('Error fetching products:', err);\n        toast({\n          title: 'Ошибка',\n          description: 'Не удалось загрузить товары',\n          status: 'error',\n          duration: 5000,\n          isClosable: true\n        });\n        setLoading(false);\n      }\n    };\n    fetchProducts();\n  }, [toast]);\n\n  // Filter products based on search\n  const filteredProducts = products.filter(product => {\n    const searchLower = searchTerm.toLowerCase();\n    return product.name.toLowerCase().includes(searchLower) || product.code && product.code.toLowerCase().includes(searchLower) || product.description && product.description.toLowerCase().includes(searchLower);\n  });\n\n  // Add product to cart\n  const addToCart = product => {\n    // Check if product is already in cart\n    const existingItem = cart.find(item => item.productId === product._id);\n    if (existingItem) {\n      // Update quantity if already in cart\n      setCart(cart.map(item => item.productId === product._id ? {\n        ...item,\n        quantity: item.quantity + 1\n      } : item));\n    } else {\n      // Add new item to cart\n      setCart([...cart, {\n        productId: product._id,\n        name: product.name,\n        code: product.code,\n        price: product.price,\n        quantity: 1\n      }]);\n    }\n    toast({\n      title: 'Товар добавлен',\n      description: `${product.name} добавлен в заказ`,\n      status: 'success',\n      duration: 2000,\n      isClosable: true\n    });\n  };\n\n  // Update item quantity in cart\n  const updateQuantity = (productId, newQuantity) => {\n    if (newQuantity < 1) return;\n    setCart(cart.map(item => item.productId === productId ? {\n      ...item,\n      quantity: newQuantity\n    } : item));\n  };\n\n  // Remove item from cart\n  const removeFromCart = productId => {\n    setCart(cart.filter(item => item.productId !== productId));\n  };\n\n  // Calculate total\n  const calculateTotal = () => {\n    return cart.reduce((total, item) => total + item.price * item.quantity, 0);\n  };\n\n  // Submit order\n  const handleSubmit = async () => {\n    if (cart.length === 0) {\n      toast({\n        title: 'Ошибка',\n        description: 'Заказ не может быть пустым',\n        status: 'error',\n        duration: 3000,\n        isClosable: true\n      });\n      return;\n    }\n    setSubmitting(true);\n    try {\n      const orderData = {\n        items: cart.map(item => ({\n          productId: item.productId,\n          quantity: item.quantity\n        })),\n        notes: notes.trim() || undefined\n      };\n      const res = await axios.post('/api/orders', orderData);\n      toast({\n        title: 'Заказ создан',\n        description: `Заказ #${res.data.orderNumber} успешно создан`,\n        status: 'success',\n        duration: 5000,\n        isClosable: true\n      });\n      navigate(`/orders/${res.data._id}`);\n    } catch (err) {\n      var _err$response, _err$response$data;\n      console.error('Error creating order:', err);\n      toast({\n        title: 'Ошибка',\n        description: ((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.message) || 'Не удалось создать заказ',\n        status: 'error',\n        duration: 5000,\n        isClosable: true\n      });\n      setSubmitting(false);\n    }\n  };\n\n  // Clear cart\n  const clearCart = () => {\n    setCart([]);\n    onClose();\n  };\n  const tableBg = useColorModeValue('white', 'gray.800');\n  const borderColor = useColorModeValue('gray.200', 'gray.700');\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(Center, {\n      h: \"calc(100vh - 100px)\",\n      children: /*#__PURE__*/_jsxDEV(Spinner, {\n        size: \"xl\",\n        color: \"brand.500\",\n        thickness: \"4px\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(Box, {\n    children: [/*#__PURE__*/_jsxDEV(Heading, {\n      size: \"lg\",\n      mb: 2,\n      children: \"\\u0421\\u043E\\u0437\\u0434\\u0430\\u043D\\u0438\\u0435 \\u0437\\u0430\\u043A\\u0430\\u0437\\u0430\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Text, {\n      mb: 6,\n      color: \"gray.600\",\n      children: \"\\u0412\\u044B\\u0431\\u0435\\u0440\\u0438\\u0442\\u0435 \\u0442\\u043E\\u0432\\u0430\\u0440\\u044B \\u0438\\u0437 \\u043F\\u0440\\u0430\\u0439\\u0441-\\u043B\\u0438\\u0441\\u0442\\u0430 \\u0438 \\u0443\\u043A\\u0430\\u0436\\u0438\\u0442\\u0435 \\u043A\\u043E\\u043B\\u0438\\u0447\\u0435\\u0441\\u0442\\u0432\\u043E\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Flex, {\n      direction: {\n        base: 'column',\n        lg: 'row'\n      },\n      gap: 6,\n      children: [/*#__PURE__*/_jsxDEV(Box, {\n        flex: 1,\n        children: [/*#__PURE__*/_jsxDEV(Box, {\n          mb: 4,\n          children: /*#__PURE__*/_jsxDEV(InputGroup, {\n            children: [/*#__PURE__*/_jsxDEV(InputLeftElement, {\n              pointerEvents: \"none\",\n              children: /*#__PURE__*/_jsxDEV(SearchIcon, {\n                color: \"gray.400\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 225,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 224,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Input, {\n              placeholder: \"\\u041F\\u043E\\u0438\\u0441\\u043A \\u0442\\u043E\\u0432\\u0430\\u0440\\u043E\\u0432\",\n              value: searchTerm,\n              onChange: e => setSearchTerm(e.target.value),\n              bg: \"white\",\n              borderRadius: \"md\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 227,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 223,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TableContainer, {\n          border: \"1px\",\n          borderColor: borderColor,\n          borderRadius: \"lg\",\n          boxShadow: \"sm\",\n          maxH: \"600px\",\n          overflowY: \"auto\",\n          children: /*#__PURE__*/_jsxDEV(Table, {\n            variant: \"simple\",\n            bg: tableBg,\n            size: \"sm\",\n            children: [/*#__PURE__*/_jsxDEV(Thead, {\n              position: \"sticky\",\n              top: 0,\n              bg: tableBg,\n              zIndex: 1,\n              children: /*#__PURE__*/_jsxDEV(Tr, {\n                children: [/*#__PURE__*/_jsxDEV(Th, {\n                  children: \"\\u041A\\u043E\\u0434\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 248,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Th, {\n                  children: \"\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 249,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Th, {\n                  isNumeric: true,\n                  children: \"\\u0426\\u0435\\u043D\\u0430 (\\u20BD)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 250,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Th, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 251,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 247,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 246,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Tbody, {\n              children: filteredProducts.length > 0 ? filteredProducts.map(product => /*#__PURE__*/_jsxDEV(Tr, {\n                children: [/*#__PURE__*/_jsxDEV(Td, {\n                  fontFamily: \"mono\",\n                  children: product.code || '-'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 258,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(Td, {\n                  children: [/*#__PURE__*/_jsxDEV(Text, {\n                    fontWeight: \"medium\",\n                    children: product.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 260,\n                    columnNumber: 25\n                  }, this), product.description && /*#__PURE__*/_jsxDEV(Text, {\n                    fontSize: \"xs\",\n                    color: \"gray.500\",\n                    children: product.description\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 262,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 259,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(Td, {\n                  isNumeric: true,\n                  fontWeight: \"bold\",\n                  children: [\"\\u20BD\", product.price.toLocaleString()]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 265,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(Td, {\n                  textAlign: \"right\",\n                  children: /*#__PURE__*/_jsxDEV(IconButton, {\n                    icon: /*#__PURE__*/_jsxDEV(AddIcon, {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 268,\n                      columnNumber: 33\n                    }, this),\n                    size: \"sm\",\n                    colorScheme: \"brand\",\n                    variant: \"ghost\",\n                    onClick: () => addToCart(product),\n                    \"aria-label\": \"Add to cart\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 267,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 266,\n                  columnNumber: 23\n                }, this)]\n              }, product._id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 257,\n                columnNumber: 21\n              }, this)) : /*#__PURE__*/_jsxDEV(Tr, {\n                children: /*#__PURE__*/_jsxDEV(Td, {\n                  colSpan: 4,\n                  textAlign: \"center\",\n                  py: 4,\n                  children: searchTerm ? 'Не найдено товаров по вашему запросу' : 'Нет доступных товаров'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 280,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 279,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 254,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 245,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 237,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        width: {\n          base: '100%',\n          lg: '400px'\n        },\n        bg: tableBg,\n        p: 4,\n        borderRadius: \"lg\",\n        border: \"1px\",\n        borderColor: borderColor,\n        boxShadow: \"sm\",\n        children: [/*#__PURE__*/_jsxDEV(Heading, {\n          size: \"md\",\n          mb: 4,\n          children: \"\\u0417\\u0430\\u043A\\u0430\\u0437\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 300,\n          columnNumber: 11\n        }, this), cart.length > 0 ? /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(Box, {\n            maxH: \"300px\",\n            overflowY: \"auto\",\n            mb: 4,\n            children: cart.map(item => /*#__PURE__*/_jsxDEV(Flex, {\n              justify: \"space-between\",\n              align: \"center\",\n              py: 2,\n              borderBottom: \"1px\",\n              borderColor: borderColor,\n              children: [/*#__PURE__*/_jsxDEV(Box, {\n                flex: 1,\n                children: [/*#__PURE__*/_jsxDEV(Text, {\n                  fontWeight: \"medium\",\n                  children: item.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 315,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(Flex, {\n                  justify: \"space-between\",\n                  align: \"center\",\n                  children: [/*#__PURE__*/_jsxDEV(Text, {\n                    fontSize: \"sm\",\n                    color: \"gray.500\",\n                    children: [item.code || 'Без кода', \" \\u2022 \\u20BD\", item.price.toLocaleString()]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 317,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(Text, {\n                    fontWeight: \"bold\",\n                    children: [\"\\u20BD\", (item.price * item.quantity).toLocaleString()]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 320,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 316,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 314,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(Flex, {\n                ml: 4,\n                align: \"center\",\n                children: [/*#__PURE__*/_jsxDEV(NumberInput, {\n                  size: \"sm\",\n                  maxW: 20,\n                  min: 1,\n                  value: item.quantity,\n                  onChange: (_, value) => updateQuantity(item.productId, value),\n                  mr: 2,\n                  children: [/*#__PURE__*/_jsxDEV(NumberInputField, {\n                    textAlign: \"center\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 334,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(NumberInputStepper, {\n                    children: [/*#__PURE__*/_jsxDEV(NumberIncrementStepper, {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 336,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(NumberDecrementStepper, {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 337,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 335,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 326,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n                  icon: /*#__PURE__*/_jsxDEV(DeleteIcon, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 341,\n                    columnNumber: 31\n                  }, this),\n                  size: \"sm\",\n                  colorScheme: \"red\",\n                  variant: \"ghost\",\n                  onClick: () => removeFromCart(item.productId),\n                  \"aria-label\": \"Remove from cart\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 340,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 325,\n                columnNumber: 21\n              }, this)]\n            }, item.productId, true, {\n              fileName: _jsxFileName,\n              lineNumber: 306,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 304,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Divider, {\n            my: 3\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 353,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Flex, {\n            justify: \"space-between\",\n            fontWeight: \"bold\",\n            fontSize: \"lg\",\n            mb: 4,\n            children: [/*#__PURE__*/_jsxDEV(Text, {\n              children: \"\\u0418\\u0442\\u043E\\u0433\\u043E:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 356,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Text, {\n              children: [\"\\u20BD\", calculateTotal().toLocaleString()]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 357,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 355,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n            mb: 4,\n            children: [/*#__PURE__*/_jsxDEV(FormLabel, {\n              fontSize: \"sm\",\n              children: \"\\u041F\\u0440\\u0438\\u043C\\u0435\\u0447\\u0430\\u043D\\u0438\\u044F \\u043A \\u0437\\u0430\\u043A\\u0430\\u0437\\u0443\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 361,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Textarea, {\n              placeholder: \"\\u0414\\u043E\\u043F\\u043E\\u043B\\u043D\\u0438\\u0442\\u0435\\u043B\\u044C\\u043D\\u0430\\u044F \\u0438\\u043D\\u0444\\u043E\\u0440\\u043C\\u0430\\u0446\\u0438\\u044F\",\n              value: notes,\n              onChange: e => setNotes(e.target.value),\n              size: \"sm\",\n              rows: 3\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 362,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 360,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Stack, {\n            spacing: 3,\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              colorScheme: \"brand\",\n              size: \"md\",\n              w: \"100%\",\n              onClick: handleSubmit,\n              isLoading: submitting,\n              children: \"\\u041E\\u0444\\u043E\\u0440\\u043C\\u0438\\u0442\\u044C \\u0437\\u0430\\u043A\\u0430\\u0437\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 372,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"outline\",\n              size: \"md\",\n              w: \"100%\",\n              onClick: onOpen,\n              children: \"\\u041E\\u0447\\u0438\\u0441\\u0442\\u0438\\u0442\\u044C \\u0437\\u0430\\u043A\\u0430\\u0437\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 381,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 371,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true) : /*#__PURE__*/_jsxDEV(Box, {\n          textAlign: \"center\",\n          py: 10,\n          children: [/*#__PURE__*/_jsxDEV(Text, {\n            color: \"gray.500\",\n            mb: 4,\n            children: \"\\u0412\\u0430\\u0448 \\u0437\\u0430\\u043A\\u0430\\u0437 \\u043F\\u0443\\u0441\\u0442\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 393,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Text, {\n            fontSize: \"sm\",\n            children: \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u044C\\u0442\\u0435 \\u0442\\u043E\\u0432\\u0430\\u0440\\u044B \\u0432 \\u0437\\u0430\\u043A\\u0430\\u0437 \\u0438\\u0437 \\u043F\\u0440\\u0430\\u0439\\u0441-\\u043B\\u0438\\u0441\\u0442\\u0430\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 394,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 392,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 291,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(AlertDialog, {\n      isOpen: isOpen,\n      leastDestructiveRef: cancelRef,\n      onClose: onClose,\n      children: /*#__PURE__*/_jsxDEV(AlertDialogOverlay, {\n        children: /*#__PURE__*/_jsxDEV(AlertDialogContent, {\n          children: [/*#__PURE__*/_jsxDEV(AlertDialogHeader, {\n            fontSize: \"lg\",\n            fontWeight: \"bold\",\n            children: \"\\u041E\\u0447\\u0438\\u0441\\u0442\\u0438\\u0442\\u044C \\u0437\\u0430\\u043A\\u0430\\u0437\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 410,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(AlertDialogBody, {\n            children: \"\\u0412\\u044B \\u0443\\u0432\\u0435\\u0440\\u0435\\u043D\\u044B? \\u042D\\u0442\\u0430 \\u043E\\u043F\\u0435\\u0440\\u0430\\u0446\\u0438\\u044F \\u0443\\u0434\\u0430\\u043B\\u0438\\u0442 \\u0432\\u0441\\u0435 \\u0442\\u043E\\u0432\\u0430\\u0440\\u044B \\u0438\\u0437 \\u0442\\u0435\\u043A\\u0443\\u0449\\u0435\\u0433\\u043E \\u0437\\u0430\\u043A\\u0430\\u0437\\u0430.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 414,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(AlertDialogFooter, {\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              ref: cancelRef,\n              onClick: onClose,\n              children: \"\\u041E\\u0442\\u043C\\u0435\\u043D\\u0430\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 419,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              colorScheme: \"red\",\n              onClick: clearCart,\n              ml: 3,\n              children: \"\\u041E\\u0447\\u0438\\u0441\\u0442\\u0438\\u0442\\u044C\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 422,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 418,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 409,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 408,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 403,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 212,\n    columnNumber: 5\n  }, this);\n};\n_s(CreateOrder, \"Olg+SfKuc2dhSTT0UE0/PEqf14A=\", false, function () {\n  return [useDisclosure, useNavigate, useToast, useColorModeValue, useColorModeValue];\n});\n_c = CreateOrder;\nexport default CreateOrder;\nvar _c;\n$RefreshReg$(_c, \"CreateOrder\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","Box","Heading","Text","Table","Thead","Tbody","Tr","Th","Td","TableContainer","Button","IconButton","Flex","Stack","Divider","Input","FormControl","FormLabel","Textarea","NumberInput","NumberInputField","NumberInputStepper","NumberIncrementStepper","NumberDecrementStepper","useColorModeValue","useToast","Spinner","Center","InputGroup","InputLeftElement","Badge","AlertDialog","AlertDialogBody","AlertDialogFooter","AlertDialogHeader","AlertDialogContent","AlertDialogOverlay","useDisclosure","AddIcon","DeleteIcon","SearchIcon","axios","jsxDEV","_jsxDEV","Fragment","_Fragment","CreateOrder","_s","products","setProducts","cart","setCart","notes","setNotes","searchTerm","setSearchTerm","loading","setLoading","submitting","setSubmitting","isOpen","onOpen","onClose","cancelRef","useRef","navigate","toast","fetchProducts","res","get","data","filter","p","price","err","console","error","title","description","status","duration","isClosable","filteredProducts","product","searchLower","toLowerCase","name","includes","code","addToCart","existingItem","find","item","productId","_id","map","quantity","updateQuantity","newQuantity","removeFromCart","calculateTotal","reduce","total","handleSubmit","length","orderData","items","trim","undefined","post","orderNumber","_err$response","_err$response$data","response","message","clearCart","tableBg","borderColor","h","children","size","color","thickness","fileName","_jsxFileName","lineNumber","columnNumber","mb","direction","base","lg","gap","flex","pointerEvents","placeholder","value","onChange","e","target","bg","borderRadius","border","boxShadow","maxH","overflowY","variant","position","top","zIndex","isNumeric","fontFamily","fontWeight","fontSize","toLocaleString","textAlign","icon","colorScheme","onClick","colSpan","py","width","justify","align","borderBottom","ml","maxW","min","_","mr","my","rows","spacing","w","isLoading","leastDestructiveRef","ref","_c","$RefreshReg$"],"sources":["/Users/macbook1/Programming/jsstoma/client/src/pages/CreateOrder.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport {\n  Box,\n  Heading,\n  Text,\n  Table,\n  Thead,\n  Tbody,\n  Tr,\n  Th,\n  Td,\n  TableContainer,\n  Button,\n  IconButton,\n  Flex,\n  Stack,\n  Divider,\n  Input,\n  FormControl,\n  FormLabel,\n  Textarea,\n  NumberInput,\n  NumberInputField,\n  NumberInputStepper,\n  NumberIncrementStepper,\n  NumberDecrementStepper,\n  useColorModeValue,\n  useToast,\n  Spinner,\n  Center,\n  InputGroup,\n  InputLeftElement,\n  Badge,\n  AlertDialog,\n  AlertDialogBody,\n  AlertDialogFooter,\n  AlertDialogHeader,\n  AlertDialogContent,\n  AlertDialogOverlay,\n  useDisclosure,\n} from '@chakra-ui/react';\nimport { AddIcon, DeleteIcon, SearchIcon } from '@chakra-ui/icons';\nimport axios from 'axios';\n\nconst CreateOrder = () => {\n  const [products, setProducts] = useState([]);\n  const [cart, setCart] = useState([]);\n  const [notes, setNotes] = useState('');\n  const [searchTerm, setSearchTerm] = useState('');\n  const [loading, setLoading] = useState(true);\n  const [submitting, setSubmitting] = useState(false);\n  const { isOpen, onOpen, onClose } = useDisclosure();\n  const cancelRef = React.useRef();\n  \n  const navigate = useNavigate();\n  const toast = useToast();\n\n  // Fetch available products with prices\n  useEffect(() => {\n    const fetchProducts = async () => {\n      try {\n        const res = await axios.get('/api/products');\n        // Filter out products without prices\n        setProducts(res.data.filter(p => p.price !== null));\n        setLoading(false);\n      } catch (err) {\n        console.error('Error fetching products:', err);\n        toast({\n          title: 'Ошибка',\n          description: 'Не удалось загрузить товары',\n          status: 'error',\n          duration: 5000,\n          isClosable: true,\n        });\n        setLoading(false);\n      }\n    };\n\n    fetchProducts();\n  }, [toast]);\n\n  // Filter products based on search\n  const filteredProducts = products.filter(product => {\n    const searchLower = searchTerm.toLowerCase();\n    return (\n      product.name.toLowerCase().includes(searchLower) ||\n      (product.code && product.code.toLowerCase().includes(searchLower)) ||\n      (product.description && product.description.toLowerCase().includes(searchLower))\n    );\n  });\n\n  // Add product to cart\n  const addToCart = (product) => {\n    // Check if product is already in cart\n    const existingItem = cart.find(item => item.productId === product._id);\n    \n    if (existingItem) {\n      // Update quantity if already in cart\n      setCart(cart.map(item =>\n        item.productId === product._id\n          ? { ...item, quantity: item.quantity + 1 }\n          : item\n      ));\n    } else {\n      // Add new item to cart\n      setCart([...cart, {\n        productId: product._id,\n        name: product.name,\n        code: product.code,\n        price: product.price,\n        quantity: 1\n      }]);\n    }\n    \n    toast({\n      title: 'Товар добавлен',\n      description: `${product.name} добавлен в заказ`,\n      status: 'success',\n      duration: 2000,\n      isClosable: true,\n    });\n  };\n\n  // Update item quantity in cart\n  const updateQuantity = (productId, newQuantity) => {\n    if (newQuantity < 1) return;\n    \n    setCart(cart.map(item =>\n      item.productId === productId\n        ? { ...item, quantity: newQuantity }\n        : item\n    ));\n  };\n\n  // Remove item from cart\n  const removeFromCart = (productId) => {\n    setCart(cart.filter(item => item.productId !== productId));\n  };\n\n  // Calculate total\n  const calculateTotal = () => {\n    return cart.reduce((total, item) => total + item.price * item.quantity, 0);\n  };\n\n  // Submit order\n  const handleSubmit = async () => {\n    if (cart.length === 0) {\n      toast({\n        title: 'Ошибка',\n        description: 'Заказ не может быть пустым',\n        status: 'error',\n        duration: 3000,\n        isClosable: true,\n      });\n      return;\n    }\n\n    setSubmitting(true);\n    \n    try {\n      const orderData = {\n        items: cart.map(item => ({\n          productId: item.productId,\n          quantity: item.quantity\n        })),\n        notes: notes.trim() || undefined\n      };\n      \n      const res = await axios.post('/api/orders', orderData);\n      \n      toast({\n        title: 'Заказ создан',\n        description: `Заказ #${res.data.orderNumber} успешно создан`,\n        status: 'success',\n        duration: 5000,\n        isClosable: true,\n      });\n      \n      navigate(`/orders/${res.data._id}`);\n    } catch (err) {\n      console.error('Error creating order:', err);\n      toast({\n        title: 'Ошибка',\n        description: err.response?.data?.message || 'Не удалось создать заказ',\n        status: 'error',\n        duration: 5000,\n        isClosable: true,\n      });\n      setSubmitting(false);\n    }\n  };\n\n  // Clear cart\n  const clearCart = () => {\n    setCart([]);\n    onClose();\n  };\n\n  const tableBg = useColorModeValue('white', 'gray.800');\n  const borderColor = useColorModeValue('gray.200', 'gray.700');\n\n  if (loading) {\n    return (\n      <Center h=\"calc(100vh - 100px)\">\n        <Spinner size=\"xl\" color=\"brand.500\" thickness=\"4px\" />\n      </Center>\n    );\n  }\n\n  return (\n    <Box>\n      <Heading size=\"lg\" mb={2}>Создание заказа</Heading>\n      <Text mb={6} color=\"gray.600\">Выберите товары из прайс-листа и укажите количество</Text>\n\n      <Flex \n        direction={{ base: 'column', lg: 'row' }} \n        gap={6}\n      >\n        {/* Products list */}\n        <Box flex={1}>\n          <Box mb={4}>\n            <InputGroup>\n              <InputLeftElement pointerEvents=\"none\">\n                <SearchIcon color=\"gray.400\" />\n              </InputLeftElement>\n              <Input\n                placeholder=\"Поиск товаров\"\n                value={searchTerm}\n                onChange={(e) => setSearchTerm(e.target.value)}\n                bg=\"white\"\n                borderRadius=\"md\"\n              />\n            </InputGroup>\n          </Box>\n\n          <TableContainer\n            border=\"1px\"\n            borderColor={borderColor}\n            borderRadius=\"lg\"\n            boxShadow=\"sm\"\n            maxH=\"600px\"\n            overflowY=\"auto\"\n          >\n            <Table variant=\"simple\" bg={tableBg} size=\"sm\">\n              <Thead position=\"sticky\" top={0} bg={tableBg} zIndex={1}>\n                <Tr>\n                  <Th>Код</Th>\n                  <Th>Название</Th>\n                  <Th isNumeric>Цена (₽)</Th>\n                  <Th></Th>\n                </Tr>\n              </Thead>\n              <Tbody>\n                {filteredProducts.length > 0 ? (\n                  filteredProducts.map(product => (\n                    <Tr key={product._id}>\n                      <Td fontFamily=\"mono\">{product.code || '-'}</Td>\n                      <Td>\n                        <Text fontWeight=\"medium\">{product.name}</Text>\n                        {product.description && (\n                          <Text fontSize=\"xs\" color=\"gray.500\">{product.description}</Text>\n                        )}\n                      </Td>\n                      <Td isNumeric fontWeight=\"bold\">₽{product.price.toLocaleString()}</Td>\n                      <Td textAlign=\"right\">\n                        <IconButton\n                          icon={<AddIcon />}\n                          size=\"sm\"\n                          colorScheme=\"brand\"\n                          variant=\"ghost\"\n                          onClick={() => addToCart(product)}\n                          aria-label=\"Add to cart\"\n                        />\n                      </Td>\n                    </Tr>\n                  ))\n                ) : (\n                  <Tr>\n                    <Td colSpan={4} textAlign=\"center\" py={4}>\n                      {searchTerm ? 'Не найдено товаров по вашему запросу' : 'Нет доступных товаров'}\n                    </Td>\n                  </Tr>\n                )}\n              </Tbody>\n            </Table>\n          </TableContainer>\n        </Box>\n\n        {/* Order summary */}\n        <Box \n          width={{ base: '100%', lg: '400px' }}\n          bg={tableBg}\n          p={4}\n          borderRadius=\"lg\"\n          border=\"1px\"\n          borderColor={borderColor}\n          boxShadow=\"sm\"\n        >\n          <Heading size=\"md\" mb={4}>Заказ</Heading>\n          \n          {cart.length > 0 ? (\n            <>\n              <Box maxH=\"300px\" overflowY=\"auto\" mb={4}>\n                {cart.map(item => (\n                  <Flex \n                    key={item.productId} \n                    justify=\"space-between\" \n                    align=\"center\"\n                    py={2}\n                    borderBottom=\"1px\"\n                    borderColor={borderColor}\n                  >\n                    <Box flex={1}>\n                      <Text fontWeight=\"medium\">{item.name}</Text>\n                      <Flex justify=\"space-between\" align=\"center\">\n                        <Text fontSize=\"sm\" color=\"gray.500\">\n                          {item.code || 'Без кода'} • ₽{item.price.toLocaleString()}\n                        </Text>\n                        <Text fontWeight=\"bold\">\n                          ₽{(item.price * item.quantity).toLocaleString()}\n                        </Text>\n                      </Flex>\n                    </Box>\n                    <Flex ml={4} align=\"center\">\n                      <NumberInput\n                        size=\"sm\"\n                        maxW={20}\n                        min={1}\n                        value={item.quantity}\n                        onChange={(_, value) => updateQuantity(item.productId, value)}\n                        mr={2}\n                      >\n                        <NumberInputField textAlign=\"center\" />\n                        <NumberInputStepper>\n                          <NumberIncrementStepper />\n                          <NumberDecrementStepper />\n                        </NumberInputStepper>\n                      </NumberInput>\n                      <IconButton\n                        icon={<DeleteIcon />}\n                        size=\"sm\"\n                        colorScheme=\"red\"\n                        variant=\"ghost\"\n                        onClick={() => removeFromCart(item.productId)}\n                        aria-label=\"Remove from cart\"\n                      />\n                    </Flex>\n                  </Flex>\n                ))}\n              </Box>\n\n              <Divider my={3} />\n              \n              <Flex justify=\"space-between\" fontWeight=\"bold\" fontSize=\"lg\" mb={4}>\n                <Text>Итого:</Text>\n                <Text>₽{calculateTotal().toLocaleString()}</Text>\n              </Flex>\n              \n              <FormControl mb={4}>\n                <FormLabel fontSize=\"sm\">Примечания к заказу</FormLabel>\n                <Textarea\n                  placeholder=\"Дополнительная информация\"\n                  value={notes}\n                  onChange={(e) => setNotes(e.target.value)}\n                  size=\"sm\"\n                  rows={3}\n                />\n              </FormControl>\n              \n              <Stack spacing={3}>\n                <Button\n                  colorScheme=\"brand\"\n                  size=\"md\"\n                  w=\"100%\"\n                  onClick={handleSubmit}\n                  isLoading={submitting}\n                >\n                  Оформить заказ\n                </Button>\n                <Button\n                  variant=\"outline\"\n                  size=\"md\"\n                  w=\"100%\"\n                  onClick={onOpen}\n                >\n                  Очистить заказ\n                </Button>\n              </Stack>\n            </>\n          ) : (\n            <Box textAlign=\"center\" py={10}>\n              <Text color=\"gray.500\" mb={4}>Ваш заказ пуст</Text>\n              <Text fontSize=\"sm\">\n                Добавьте товары в заказ из прайс-листа\n              </Text>\n            </Box>\n          )}\n        </Box>\n      </Flex>\n\n      {/* Clear cart confirmation dialog */}\n      <AlertDialog\n        isOpen={isOpen}\n        leastDestructiveRef={cancelRef}\n        onClose={onClose}\n      >\n        <AlertDialogOverlay>\n          <AlertDialogContent>\n            <AlertDialogHeader fontSize=\"lg\" fontWeight=\"bold\">\n              Очистить заказ\n            </AlertDialogHeader>\n\n            <AlertDialogBody>\n              Вы уверены? Эта операция удалит все товары из текущего заказа.\n            </AlertDialogBody>\n\n            <AlertDialogFooter>\n              <Button ref={cancelRef} onClick={onClose}>\n                Отмена\n              </Button>\n              <Button colorScheme=\"red\" onClick={clearCart} ml={3}>\n                Очистить\n              </Button>\n            </AlertDialogFooter>\n          </AlertDialogContent>\n        </AlertDialogOverlay>\n      </AlertDialog>\n    </Box>\n  );\n};\n\nexport default CreateOrder; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}