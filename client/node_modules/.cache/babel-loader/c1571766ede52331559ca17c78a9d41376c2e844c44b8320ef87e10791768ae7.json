{"ast":null,"code":"import React,{useEffect,useState,useContext}from'react';import{Link as RouterLink,useNavigate}from'react-router-dom';import{Box,Heading,Text,SimpleGrid,Stat,StatLabel,StatNumber,Card,CardHeader,CardBody,Button,Flex,Icon,Divider,useColorModeValue,Spinner,Center,Tabs,TabList,TabPanels,Tab,TabPanel,HStack,VStack,Avatar,Menu,MenuButton,MenuList,MenuItem,Table,Thead,Tbody,Tr,Th,Td,Input,Select,Badge,useDisclosure,Modal,ModalOverlay,ModalContent,ModalHeader,ModalFooter,ModalBody,ModalCloseButton,FormControl,FormLabel,IconButton,InputGroup,InputLeftElement}from'@chakra-ui/react';import{FiShoppingCart,FiDollarSign,FiAlertCircle,FiUser,FiPackage,FiLogOut,FiSearch,FiPlus,FiEdit,FiTrash2,FiCornerDownRight,FiCheck}from'react-icons/fi';import API from'../utils/api';import AuthContext from'../context/AuthContext';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Dashboard=()=>{const{user,isAdmin,logout}=useContext(AuthContext);const[activeTab,setActiveTab]=useState(0);const[loading,setLoading]=useState(true);const navigate=useNavigate();const handleLogout=()=>{logout();navigate('/login');};const cardBg=useColorModeValue('white','gray.700');const borderColor=useColorModeValue('gray.200','gray.700');// Load data based on active tab\nuseEffect(()=>{setLoading(false);},[activeTab]);return/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsxs(Flex,{bg:cardBg,p:4,shadow:\"sm\",borderBottomWidth:\"1px\",borderColor:borderColor,justify:\"space-between\",align:\"center\",position:\"sticky\",top:0,zIndex:10,children:[/*#__PURE__*/_jsx(Heading,{size:\"lg\",children:\"Clinic Price Manager\"}),/*#__PURE__*/_jsxs(HStack,{spacing:4,children:[/*#__PURE__*/_jsx(Text,{children:user===null||user===void 0?void 0:user.username}),/*#__PURE__*/_jsxs(Menu,{children:[/*#__PURE__*/_jsx(MenuButton,{as:Avatar,size:\"sm\",bg:\"brand.500\",color:\"white\",cursor:\"pointer\"}),/*#__PURE__*/_jsx(MenuList,{children:/*#__PURE__*/_jsx(MenuItem,{icon:/*#__PURE__*/_jsx(Icon,{as:FiLogOut}),onClick:handleLogout,children:\"\\u0412\\u044B\\u0439\\u0442\\u0438\"})})]})]})]}),/*#__PURE__*/_jsx(Box,{p:4,children:/*#__PURE__*/_jsxs(Tabs,{colorScheme:\"brand\",variant:\"enclosed\",onChange:index=>setActiveTab(index),isLazy:true,children:[/*#__PURE__*/_jsxs(TabList,{mb:4,children:[/*#__PURE__*/_jsxs(Tab,{children:[/*#__PURE__*/_jsx(Icon,{as:FiUser,mr:2}),\"\\u041F\\u0430\\u043D\\u0435\\u043B\\u044C \\u0443\\u043F\\u0440\\u0430\\u0432\\u043B\\u0435\\u043D\\u0438\\u044F\"]}),isAdmin?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(Tab,{children:[/*#__PURE__*/_jsx(Icon,{as:FiUser,mr:2}),\"\\u041A\\u043B\\u0438\\u043D\\u0438\\u043A\\u0438\"]}),/*#__PURE__*/_jsxs(Tab,{children:[/*#__PURE__*/_jsx(Icon,{as:FiPackage,mr:2}),\"\\u0422\\u043E\\u0432\\u0430\\u0440\\u044B\"]}),/*#__PURE__*/_jsxs(Tab,{children:[/*#__PURE__*/_jsx(Icon,{as:FiShoppingCart,mr:2}),\"\\u0417\\u0430\\u043A\\u0430\\u0437\\u044B\"]})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(Tab,{children:[/*#__PURE__*/_jsx(Icon,{as:FiPackage,mr:2}),\"\\u041F\\u0440\\u0430\\u0439\\u0441-\\u043B\\u0438\\u0441\\u0442\"]}),/*#__PURE__*/_jsxs(Tab,{children:[/*#__PURE__*/_jsx(Icon,{as:FiShoppingCart,mr:2}),\"\\u0417\\u0430\\u043A\\u0430\\u0437\\u044B\"]}),/*#__PURE__*/_jsxs(Tab,{children:[/*#__PURE__*/_jsx(Icon,{as:FiPlus,mr:2}),\"\\u0421\\u043E\\u0437\\u0434\\u0430\\u0442\\u044C \\u0437\\u0430\\u043A\\u0430\\u0437\"]})]})]}),/*#__PURE__*/_jsxs(TabPanels,{children:[/*#__PURE__*/_jsx(TabPanel,{p:0,children:/*#__PURE__*/_jsx(DashboardPanel,{isAdmin:isAdmin})}),isAdmin?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(TabPanel,{p:0,children:/*#__PURE__*/_jsx(ClinicsPanel,{})}),/*#__PURE__*/_jsx(TabPanel,{p:0,children:/*#__PURE__*/_jsx(ProductsPanel,{})}),/*#__PURE__*/_jsx(TabPanel,{p:0,children:/*#__PURE__*/_jsx(OrdersPanel,{isAdmin:true})})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(TabPanel,{p:0,children:/*#__PURE__*/_jsx(PriceListPanel,{})}),/*#__PURE__*/_jsx(TabPanel,{p:0,children:/*#__PURE__*/_jsx(OrdersPanel,{isAdmin:false})}),/*#__PURE__*/_jsx(TabPanel,{p:0,children:/*#__PURE__*/_jsx(CreateOrderPanel,{})})]})]})]})})]});};// Dashboard Panel Component\nconst DashboardPanel=_ref=>{let{isAdmin}=_ref;const[stats,setStats]=useState({totalOrders:0,pendingOrders:0,totalSpent:0,recentOrders:[]});const[loading,setLoading]=useState(true);useEffect(()=>{const fetchStats=async()=>{try{// Get all orders\nconst ordersRes=await API.get('/orders');// Get pending orders\nconst pendingRes=await API.get('/orders/unpaid');// Calculate total spent (for paid orders only)\nconst totalSpent=ordersRes.data.filter(order=>order.status==='paid').reduce((acc,order)=>acc+order.totalAmount,0);setStats({totalOrders:ordersRes.data.length,pendingOrders:pendingRes.data.length,totalSpent,recentOrders:ordersRes.data.slice(0,5)// Get 5 most recent orders\n});setLoading(false);}catch(err){console.error('Error fetching dashboard data:',err);setLoading(false);}};fetchStats();},[]);const cardBg=useColorModeValue('white','gray.700');const textColor=useColorModeValue('gray.600','gray.200');if(loading){return/*#__PURE__*/_jsx(Center,{h:\"200px\",children:/*#__PURE__*/_jsx(Spinner,{size:\"xl\",color:\"brand.500\",thickness:\"4px\"})});}return/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsx(Heading,{size:\"md\",mb:6,children:isAdmin?'Статистика системы':'Статистика клиники'}),/*#__PURE__*/_jsxs(SimpleGrid,{columns:{base:1,md:3},spacing:6,mb:6,children:[/*#__PURE__*/_jsx(StatCard,{title:\"\\u0412\\u0441\\u0435\\u0433\\u043E \\u0437\\u0430\\u043A\\u0430\\u0437\\u043E\\u0432\",value:stats.totalOrders,icon:FiShoppingCart,accentColor:\"brand.500\"}),/*#__PURE__*/_jsx(StatCard,{title:\"\\u041D\\u0435\\u043E\\u043F\\u043B\\u0430\\u0447\\u0435\\u043D\\u043D\\u044B\\u0435 \\u0437\\u0430\\u043A\\u0430\\u0437\\u044B\",value:stats.pendingOrders,icon:FiAlertCircle,accentColor:\"orange.500\"}),/*#__PURE__*/_jsx(StatCard,{title:\"\\u0421\\u0443\\u043C\\u043C\\u0430 \\u043E\\u043F\\u043B\\u0430\\u0447\\u0435\\u043D\\u043D\\u044B\\u0445 \\u0437\\u0430\\u043A\\u0430\\u0437\\u043E\\u0432\",value:`₽${stats.totalSpent.toLocaleString()}`,icon:FiDollarSign,accentColor:\"green.500\"})]}),/*#__PURE__*/_jsxs(Card,{bg:cardBg,boxShadow:\"sm\",borderRadius:\"lg\",children:[/*#__PURE__*/_jsx(CardHeader,{children:/*#__PURE__*/_jsx(Heading,{size:\"md\",children:\"\\u041F\\u043E\\u0441\\u043B\\u0435\\u0434\\u043D\\u0438\\u0435 \\u0437\\u0430\\u043A\\u0430\\u0437\\u044B\"})}),/*#__PURE__*/_jsx(CardBody,{children:stats.recentOrders.length>0?stats.recentOrders.map((order,index)=>/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsxs(Flex,{justify:\"space-between\",align:\"center\",py:2,children:[/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsxs(Text,{fontWeight:\"bold\",children:[\"\\u0417\\u0430\\u043A\\u0430\\u0437 #\",order.orderNumber]}),/*#__PURE__*/_jsxs(Text,{fontSize:\"sm\",color:textColor,children:[new Date(order.createdAt).toLocaleDateString(),\" \\u2022 \",order.items.length,\" \",getPluralForm(order.items.length)]})]}),/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsx(Badge,{colorScheme:getStatusColorScheme(order.status),children:getStatusText(order.status)}),/*#__PURE__*/_jsxs(Text,{fontWeight:\"medium\",fontSize:\"md\",children:[\"\\u20BD\",order.totalAmount.toLocaleString()]})]})]}),index<stats.recentOrders.length-1&&/*#__PURE__*/_jsx(Divider,{})]},order._id)):/*#__PURE__*/_jsx(Text,{children:\"\\u041D\\u0435\\u0442 \\u0437\\u0430\\u043A\\u0430\\u0437\\u043E\\u0432\"})})]})]});};// Clinics Panel Component (Admin only)\nconst ClinicsPanel=()=>{const[clinics,setClinics]=useState([]);const[loading,setLoading]=useState(true);const{isOpen,onOpen,onClose}=useDisclosure();const[searchTerm,setSearchTerm]=useState('');useEffect(()=>{const fetchClinics=async()=>{try{const res=await API.get('/clinics');setClinics(res.data);setLoading(false);}catch(err){console.error('Error fetching clinics:',err);setLoading(false);}};fetchClinics();},[]);const filteredClinics=clinics.filter(clinic=>clinic.name.toLowerCase().includes(searchTerm.toLowerCase()));const cardBg=useColorModeValue('white','gray.700');if(loading){return/*#__PURE__*/_jsx(Center,{h:\"200px\",children:/*#__PURE__*/_jsx(Spinner,{size:\"xl\",color:\"brand.500\",thickness:\"4px\"})});}return/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsxs(Flex,{justify:\"space-between\",align:\"center\",mb:4,children:[/*#__PURE__*/_jsx(Heading,{size:\"md\",children:\"\\u0423\\u043F\\u0440\\u0430\\u0432\\u043B\\u0435\\u043D\\u0438\\u0435 \\u043A\\u043B\\u0438\\u043D\\u0438\\u043A\\u0430\\u043C\\u0438\"}),/*#__PURE__*/_jsx(Button,{leftIcon:/*#__PURE__*/_jsx(FiPlus,{}),colorScheme:\"brand\",onClick:onOpen,children:\"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u043A\\u043B\\u0438\\u043D\\u0438\\u043A\\u0443\"})]}),/*#__PURE__*/_jsxs(InputGroup,{mb:4,children:[/*#__PURE__*/_jsx(InputLeftElement,{pointerEvents:\"none\",children:/*#__PURE__*/_jsx(Icon,{as:FiSearch,color:\"gray.400\"})}),/*#__PURE__*/_jsx(Input,{placeholder:\"\\u041F\\u043E\\u0438\\u0441\\u043A \\u043A\\u043B\\u0438\\u043D\\u0438\\u043A\\u0438...\",value:searchTerm,onChange:e=>setSearchTerm(e.target.value)})]}),/*#__PURE__*/_jsx(Card,{bg:cardBg,boxShadow:\"sm\",borderRadius:\"lg\",overflow:\"hidden\",children:/*#__PURE__*/_jsxs(Table,{variant:\"simple\",children:[/*#__PURE__*/_jsx(Thead,{children:/*#__PURE__*/_jsxs(Tr,{children:[/*#__PURE__*/_jsx(Th,{children:\"\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435\"}),/*#__PURE__*/_jsx(Th,{children:\"\\u041A\\u043E\\u043D\\u0442\\u0430\\u043A\\u0442\\u044B\"}),/*#__PURE__*/_jsx(Th,{width:\"120px\",children:\"\\u0414\\u0435\\u0439\\u0441\\u0442\\u0432\\u0438\\u044F\"})]})}),/*#__PURE__*/_jsx(Tbody,{children:filteredClinics.map(clinic=>{var _clinic$contact,_clinic$contact2;return/*#__PURE__*/_jsxs(Tr,{children:[/*#__PURE__*/_jsx(Td,{fontWeight:\"medium\",children:clinic.name}),/*#__PURE__*/_jsxs(Td,{children:[/*#__PURE__*/_jsx(Text,{children:((_clinic$contact=clinic.contact)===null||_clinic$contact===void 0?void 0:_clinic$contact.phone)||'-'}),/*#__PURE__*/_jsx(Text,{fontSize:\"sm\",color:\"gray.500\",children:((_clinic$contact2=clinic.contact)===null||_clinic$contact2===void 0?void 0:_clinic$contact2.email)||'-'})]}),/*#__PURE__*/_jsx(Td,{children:/*#__PURE__*/_jsxs(HStack,{spacing:2,children:[/*#__PURE__*/_jsx(IconButton,{icon:/*#__PURE__*/_jsx(FiEdit,{}),\"aria-label\":\"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C\",size:\"sm\",colorScheme:\"blue\",variant:\"ghost\"}),/*#__PURE__*/_jsx(IconButton,{icon:/*#__PURE__*/_jsx(FiTrash2,{}),\"aria-label\":\"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C\",size:\"sm\",colorScheme:\"red\",variant:\"ghost\"})]})})]},clinic._id);})})]})}),/*#__PURE__*/_jsxs(Modal,{isOpen:isOpen,onClose:onClose,children:[/*#__PURE__*/_jsx(ModalOverlay,{}),/*#__PURE__*/_jsxs(ModalContent,{children:[/*#__PURE__*/_jsx(ModalHeader,{children:\"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u043A\\u043B\\u0438\\u043D\\u0438\\u043A\\u0443\"}),/*#__PURE__*/_jsx(ModalCloseButton,{}),/*#__PURE__*/_jsx(ModalBody,{children:/*#__PURE__*/_jsxs(VStack,{spacing:4,children:[/*#__PURE__*/_jsxs(FormControl,{isRequired:true,children:[/*#__PURE__*/_jsx(FormLabel,{children:\"\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435 \\u043A\\u043B\\u0438\\u043D\\u0438\\u043A\\u0438\"}),/*#__PURE__*/_jsx(Input,{placeholder:\"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u043D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435\"})]}),/*#__PURE__*/_jsxs(FormControl,{children:[/*#__PURE__*/_jsx(FormLabel,{children:\"\\u0422\\u0435\\u043B\\u0435\\u0444\\u043E\\u043D\"}),/*#__PURE__*/_jsx(Input,{placeholder:\"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u0442\\u0435\\u043B\\u0435\\u0444\\u043E\\u043D\"})]}),/*#__PURE__*/_jsxs(FormControl,{children:[/*#__PURE__*/_jsx(FormLabel,{children:\"Email\"}),/*#__PURE__*/_jsx(Input,{placeholder:\"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 email\"})]}),/*#__PURE__*/_jsxs(FormControl,{isRequired:true,children:[/*#__PURE__*/_jsx(FormLabel,{children:\"\\u0418\\u043C\\u044F \\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044F\"}),/*#__PURE__*/_jsx(Input,{placeholder:\"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u0438\\u043C\\u044F \\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044F\"})]}),/*#__PURE__*/_jsxs(FormControl,{isRequired:true,children:[/*#__PURE__*/_jsx(FormLabel,{children:\"\\u041F\\u0430\\u0440\\u043E\\u043B\\u044C\"}),/*#__PURE__*/_jsx(Input,{type:\"password\",placeholder:\"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u043F\\u0430\\u0440\\u043E\\u043B\\u044C\"})]})]})}),/*#__PURE__*/_jsxs(ModalFooter,{children:[/*#__PURE__*/_jsx(Button,{variant:\"outline\",mr:3,onClick:onClose,children:\"\\u041E\\u0442\\u043C\\u0435\\u043D\\u0430\"}),/*#__PURE__*/_jsx(Button,{colorScheme:\"brand\",children:\"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\"})]})]})]})]});};// Products Panel Component (Admin only)\nconst ProductsPanel=()=>{const[products,setProducts]=useState([]);const[loading,setLoading]=useState(true);const{isOpen,onOpen,onClose}=useDisclosure();const[searchTerm,setSearchTerm]=useState('');useEffect(()=>{const fetchProducts=async()=>{try{const res=await API.get('/products');setProducts(res.data);setLoading(false);}catch(err){console.error('Error fetching products:',err);setLoading(false);}};fetchProducts();},[]);const filteredProducts=products.filter(product=>product.name.toLowerCase().includes(searchTerm.toLowerCase()));const cardBg=useColorModeValue('white','gray.700');if(loading){return/*#__PURE__*/_jsx(Center,{h:\"200px\",children:/*#__PURE__*/_jsx(Spinner,{size:\"xl\",color:\"brand.500\",thickness:\"4px\"})});}return/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsxs(Flex,{justify:\"space-between\",align:\"center\",mb:4,children:[/*#__PURE__*/_jsx(Heading,{size:\"md\",children:\"\\u0423\\u043F\\u0440\\u0430\\u0432\\u043B\\u0435\\u043D\\u0438\\u0435 \\u0442\\u043E\\u0432\\u0430\\u0440\\u0430\\u043C\\u0438\"}),/*#__PURE__*/_jsx(Button,{leftIcon:/*#__PURE__*/_jsx(FiPlus,{}),colorScheme:\"brand\",onClick:onOpen,children:\"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u0442\\u043E\\u0432\\u0430\\u0440\"})]}),/*#__PURE__*/_jsxs(InputGroup,{mb:4,children:[/*#__PURE__*/_jsx(InputLeftElement,{pointerEvents:\"none\",children:/*#__PURE__*/_jsx(Icon,{as:FiSearch,color:\"gray.400\"})}),/*#__PURE__*/_jsx(Input,{placeholder:\"\\u041F\\u043E\\u0438\\u0441\\u043A \\u0442\\u043E\\u0432\\u0430\\u0440\\u0430...\",value:searchTerm,onChange:e=>setSearchTerm(e.target.value)})]}),/*#__PURE__*/_jsx(Card,{bg:cardBg,boxShadow:\"sm\",borderRadius:\"lg\",overflow:\"hidden\",children:/*#__PURE__*/_jsxs(Table,{variant:\"simple\",children:[/*#__PURE__*/_jsx(Thead,{children:/*#__PURE__*/_jsxs(Tr,{children:[/*#__PURE__*/_jsx(Th,{children:\"\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435\"}),/*#__PURE__*/_jsx(Th,{children:\"\\u0421\\u0442\\u0430\\u0442\\u0443\\u0441\"}),/*#__PURE__*/_jsx(Th,{width:\"120px\",children:\"\\u0414\\u0435\\u0439\\u0441\\u0442\\u0432\\u0438\\u044F\"})]})}),/*#__PURE__*/_jsx(Tbody,{children:filteredProducts.map(product=>/*#__PURE__*/_jsxs(Tr,{children:[/*#__PURE__*/_jsx(Td,{fontWeight:\"medium\",children:product.name}),/*#__PURE__*/_jsx(Td,{children:/*#__PURE__*/_jsx(Badge,{colorScheme:product.active?'green':'red',children:product.active?'Активен':'Неактивен'})}),/*#__PURE__*/_jsx(Td,{children:/*#__PURE__*/_jsxs(HStack,{spacing:2,children:[/*#__PURE__*/_jsx(IconButton,{icon:/*#__PURE__*/_jsx(FiEdit,{}),\"aria-label\":\"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C\",size:\"sm\",colorScheme:\"blue\",variant:\"ghost\"}),/*#__PURE__*/_jsx(IconButton,{icon:/*#__PURE__*/_jsx(FiTrash2,{}),\"aria-label\":\"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C\",size:\"sm\",colorScheme:\"red\",variant:\"ghost\"})]})})]},product._id))})]})}),/*#__PURE__*/_jsxs(Modal,{isOpen:isOpen,onClose:onClose,children:[/*#__PURE__*/_jsx(ModalOverlay,{}),/*#__PURE__*/_jsxs(ModalContent,{children:[/*#__PURE__*/_jsx(ModalHeader,{children:\"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u0442\\u043E\\u0432\\u0430\\u0440\"}),/*#__PURE__*/_jsx(ModalCloseButton,{}),/*#__PURE__*/_jsx(ModalBody,{children:/*#__PURE__*/_jsxs(VStack,{spacing:4,children:[/*#__PURE__*/_jsxs(FormControl,{isRequired:true,children:[/*#__PURE__*/_jsx(FormLabel,{children:\"\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435 \\u0442\\u043E\\u0432\\u0430\\u0440\\u0430\"}),/*#__PURE__*/_jsx(Input,{placeholder:\"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u043D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435\"})]}),/*#__PURE__*/_jsxs(FormControl,{children:[/*#__PURE__*/_jsx(FormLabel,{children:\"\\u0421\\u0442\\u0430\\u0442\\u0443\\u0441\"}),/*#__PURE__*/_jsxs(Select,{defaultValue:\"true\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"true\",children:\"\\u0410\\u043A\\u0442\\u0438\\u0432\\u0435\\u043D\"}),/*#__PURE__*/_jsx(\"option\",{value:\"false\",children:\"\\u041D\\u0435\\u0430\\u043A\\u0442\\u0438\\u0432\\u0435\\u043D\"})]})]})]})}),/*#__PURE__*/_jsxs(ModalFooter,{children:[/*#__PURE__*/_jsx(Button,{variant:\"outline\",mr:3,onClick:onClose,children:\"\\u041E\\u0442\\u043C\\u0435\\u043D\\u0430\"}),/*#__PURE__*/_jsx(Button,{colorScheme:\"brand\",children:\"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\"})]})]})]})]});};// Orders Panel Component\nconst OrdersPanel=_ref2=>{let{isAdmin}=_ref2;const[orders,setOrders]=useState([]);const[loading,setLoading]=useState(true);const[statusFilter,setStatusFilter]=useState('');const[searchTerm,setSearchTerm]=useState('');useEffect(()=>{const fetchOrders=async()=>{try{const res=await API.get('/orders');setOrders(res.data);setLoading(false);}catch(err){console.error('Error fetching orders:',err);setLoading(false);}};fetchOrders();},[]);const filteredOrders=orders.filter(order=>statusFilter?order.status===statusFilter:true).filter(order=>order.orderNumber.toString().includes(searchTerm)||order.clinic&&order.clinic.name.toLowerCase().includes(searchTerm.toLowerCase()));const cardBg=useColorModeValue('white','gray.700');if(loading){return/*#__PURE__*/_jsx(Center,{h:\"200px\",children:/*#__PURE__*/_jsx(Spinner,{size:\"xl\",color:\"brand.500\",thickness:\"4px\"})});}return/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsxs(Flex,{justify:\"space-between\",align:\"center\",mb:4,children:[/*#__PURE__*/_jsx(Heading,{size:\"md\",children:\"\\u0423\\u043F\\u0440\\u0430\\u0432\\u043B\\u0435\\u043D\\u0438\\u0435 \\u0437\\u0430\\u043A\\u0430\\u0437\\u0430\\u043C\\u0438\"}),!isAdmin&&/*#__PURE__*/_jsx(Button,{leftIcon:/*#__PURE__*/_jsx(FiPlus,{}),colorScheme:\"brand\",as:RouterLink,to:\"/orders/create\",children:\"\\u0421\\u043E\\u0437\\u0434\\u0430\\u0442\\u044C \\u0437\\u0430\\u043A\\u0430\\u0437\"})]}),/*#__PURE__*/_jsxs(Flex,{mb:4,gap:4,direction:{base:\"column\",md:\"row\"},children:[/*#__PURE__*/_jsxs(InputGroup,{children:[/*#__PURE__*/_jsx(InputLeftElement,{pointerEvents:\"none\",children:/*#__PURE__*/_jsx(Icon,{as:FiSearch,color:\"gray.400\"})}),/*#__PURE__*/_jsx(Input,{placeholder:\"\\u041F\\u043E\\u0438\\u0441\\u043A \\u0437\\u0430\\u043A\\u0430\\u0437\\u0430...\",value:searchTerm,onChange:e=>setSearchTerm(e.target.value)})]}),/*#__PURE__*/_jsxs(Select,{placeholder:\"\\u0412\\u0441\\u0435 \\u0441\\u0442\\u0430\\u0442\\u0443\\u0441\\u044B\",value:statusFilter,onChange:e=>setStatusFilter(e.target.value),maxWidth:{base:\"100%\",md:\"200px\"},children:[/*#__PURE__*/_jsx(\"option\",{value:\"pending\",children:\"\\u041D\\u0435 \\u043E\\u043F\\u043B\\u0430\\u0447\\u0435\\u043D\"}),/*#__PURE__*/_jsx(\"option\",{value:\"paid\",children:\"\\u041E\\u043F\\u043B\\u0430\\u0447\\u0435\\u043D\"}),/*#__PURE__*/_jsx(\"option\",{value:\"cancelled\",children:\"\\u041E\\u0442\\u043C\\u0435\\u043D\\u0435\\u043D\"})]})]}),/*#__PURE__*/_jsx(Card,{bg:cardBg,boxShadow:\"sm\",borderRadius:\"lg\",overflow:\"hidden\",children:/*#__PURE__*/_jsxs(Table,{variant:\"simple\",children:[/*#__PURE__*/_jsx(Thead,{children:/*#__PURE__*/_jsxs(Tr,{children:[/*#__PURE__*/_jsx(Th,{children:\"\\u2116 \\u0437\\u0430\\u043A\\u0430\\u0437\\u0430\"}),isAdmin&&/*#__PURE__*/_jsx(Th,{children:\"\\u041A\\u043B\\u0438\\u043D\\u0438\\u043A\\u0430\"}),/*#__PURE__*/_jsx(Th,{children:\"\\u0414\\u0430\\u0442\\u0430\"}),/*#__PURE__*/_jsx(Th,{children:\"\\u0421\\u0443\\u043C\\u043C\\u0430\"}),/*#__PURE__*/_jsx(Th,{children:\"\\u0421\\u0442\\u0430\\u0442\\u0443\\u0441\"}),/*#__PURE__*/_jsx(Th,{width:\"120px\",children:\"\\u0414\\u0435\\u0439\\u0441\\u0442\\u0432\\u0438\\u044F\"})]})}),/*#__PURE__*/_jsx(Tbody,{children:filteredOrders.map(order=>{var _order$clinic;return/*#__PURE__*/_jsxs(Tr,{children:[/*#__PURE__*/_jsxs(Td,{fontWeight:\"medium\",children:[\"#\",order.orderNumber]}),isAdmin&&/*#__PURE__*/_jsx(Td,{children:((_order$clinic=order.clinic)===null||_order$clinic===void 0?void 0:_order$clinic.name)||'-'}),/*#__PURE__*/_jsx(Td,{children:new Date(order.createdAt).toLocaleDateString()}),/*#__PURE__*/_jsxs(Td,{children:[\"\\u20BD\",order.totalAmount.toLocaleString()]}),/*#__PURE__*/_jsx(Td,{children:/*#__PURE__*/_jsx(Badge,{colorScheme:getStatusColorScheme(order.status),children:getStatusText(order.status)})}),/*#__PURE__*/_jsx(Td,{children:/*#__PURE__*/_jsxs(HStack,{spacing:2,children:[isAdmin&&order.status==='pending'&&/*#__PURE__*/_jsx(IconButton,{icon:/*#__PURE__*/_jsx(FiCheck,{}),\"aria-label\":\"\\u041E\\u0442\\u043C\\u0435\\u0442\\u0438\\u0442\\u044C \\u043A\\u0430\\u043A \\u043E\\u043F\\u043B\\u0430\\u0447\\u0435\\u043D\\u043D\\u044B\\u0439\",size:\"sm\",colorScheme:\"green\",variant:\"ghost\"}),/*#__PURE__*/_jsx(IconButton,{icon:/*#__PURE__*/_jsx(FiCornerDownRight,{}),\"aria-label\":\"\\u0414\\u0435\\u0442\\u0430\\u043B\\u0438\",size:\"sm\",colorScheme:\"blue\",variant:\"ghost\"})]})})]},order._id);})})]})})]});};// Price List Panel Component (Clinic only)\nconst PriceListPanel=()=>{const[prices,setPrices]=useState([]);const[loading,setLoading]=useState(true);const[searchTerm,setSearchTerm]=useState('');useEffect(()=>{const fetchPrices=async()=>{try{const res=await API.get('/prices');setPrices(res.data);setLoading(false);}catch(err){console.error('Error fetching prices:',err);setLoading(false);}};fetchPrices();},[]);const filteredPrices=prices.filter(price=>price.product.name.toLowerCase().includes(searchTerm.toLowerCase()));const cardBg=useColorModeValue('white','gray.700');if(loading){return/*#__PURE__*/_jsx(Center,{h:\"200px\",children:/*#__PURE__*/_jsx(Spinner,{size:\"xl\",color:\"brand.500\",thickness:\"4px\"})});}return/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsx(Heading,{size:\"md\",mb:4,children:\"\\u041F\\u0440\\u0430\\u0439\\u0441-\\u043B\\u0438\\u0441\\u0442\"}),/*#__PURE__*/_jsxs(InputGroup,{mb:4,children:[/*#__PURE__*/_jsx(InputLeftElement,{pointerEvents:\"none\",children:/*#__PURE__*/_jsx(Icon,{as:FiSearch,color:\"gray.400\"})}),/*#__PURE__*/_jsx(Input,{placeholder:\"\\u041F\\u043E\\u0438\\u0441\\u043A \\u0442\\u043E\\u0432\\u0430\\u0440\\u0430...\",value:searchTerm,onChange:e=>setSearchTerm(e.target.value)})]}),/*#__PURE__*/_jsx(Card,{bg:cardBg,boxShadow:\"sm\",borderRadius:\"lg\",overflow:\"hidden\",children:/*#__PURE__*/_jsxs(Table,{variant:\"simple\",children:[/*#__PURE__*/_jsx(Thead,{children:/*#__PURE__*/_jsxs(Tr,{children:[/*#__PURE__*/_jsx(Th,{children:\"\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435\"}),/*#__PURE__*/_jsx(Th,{isNumeric:true,children:\"\\u0426\\u0435\\u043D\\u0430\"})]})}),/*#__PURE__*/_jsx(Tbody,{children:filteredPrices.map(price=>/*#__PURE__*/_jsxs(Tr,{children:[/*#__PURE__*/_jsx(Td,{fontWeight:\"medium\",children:price.product.name}),/*#__PURE__*/_jsxs(Td,{isNumeric:true,fontWeight:\"bold\",children:[\"\\u20BD\",price.price.toLocaleString()]})]},price._id))})]})})]});};// Create Order Panel Component (Clinic only)\nconst CreateOrderPanel=()=>{const[prices,setPrices]=useState([]);const[selectedItems,setSelectedItems]=useState([]);const[searchTerm,setSearchTerm]=useState('');const[loading,setLoading]=useState(true);useEffect(()=>{const fetchPrices=async()=>{try{const res=await API.get('/prices');setPrices(res.data);setLoading(false);}catch(err){console.error('Error fetching prices:',err);setLoading(false);}};fetchPrices();},[]);const addItem=price=>{const existingItem=selectedItems.find(item=>item.priceId===price._id);if(existingItem){setSelectedItems(selectedItems.map(item=>item.priceId===price._id?{...item,quantity:item.quantity+1}:item));}else{setSelectedItems([...selectedItems,{priceId:price._id,productId:price.product._id,productName:price.product.name,price:price.price,quantity:1}]);}};const removeItem=priceId=>{setSelectedItems(selectedItems.filter(item=>item.priceId!==priceId));};const updateQuantity=(priceId,quantity)=>{if(quantity<1)return;setSelectedItems(selectedItems.map(item=>item.priceId===priceId?{...item,quantity}:item));};const filteredPrices=prices.filter(price=>price.product.name.toLowerCase().includes(searchTerm.toLowerCase()));const totalAmount=selectedItems.reduce((total,item)=>total+item.price*item.quantity,0);const cardBg=useColorModeValue('white','gray.700');const borderColor=useColorModeValue('gray.200','gray.600');if(loading){return/*#__PURE__*/_jsx(Center,{h:\"200px\",children:/*#__PURE__*/_jsx(Spinner,{size:\"xl\",color:\"brand.500\",thickness:\"4px\"})});}return/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsx(Heading,{size:\"md\",mb:6,children:\"\\u0421\\u043E\\u0437\\u0434\\u0430\\u043D\\u0438\\u0435 \\u0437\\u0430\\u043A\\u0430\\u0437\\u0430\"}),/*#__PURE__*/_jsxs(SimpleGrid,{columns:{base:1,xl:2},spacing:6,children:[/*#__PURE__*/_jsx(Box,{children:/*#__PURE__*/_jsxs(Card,{bg:cardBg,boxShadow:\"sm\",borderRadius:\"lg\",mb:4,children:[/*#__PURE__*/_jsx(CardHeader,{pb:2,children:/*#__PURE__*/_jsx(Heading,{size:\"sm\",children:\"\\u0422\\u043E\\u0432\\u0430\\u0440\\u044B \\u0438 \\u0443\\u0441\\u043B\\u0443\\u0433\\u0438\"})}),/*#__PURE__*/_jsxs(CardBody,{children:[/*#__PURE__*/_jsxs(InputGroup,{mb:4,children:[/*#__PURE__*/_jsx(InputLeftElement,{pointerEvents:\"none\",children:/*#__PURE__*/_jsx(Icon,{as:FiSearch,color:\"gray.400\"})}),/*#__PURE__*/_jsx(Input,{placeholder:\"\\u041F\\u043E\\u0438\\u0441\\u043A \\u0442\\u043E\\u0432\\u0430\\u0440\\u0430...\",value:searchTerm,onChange:e=>setSearchTerm(e.target.value)})]}),/*#__PURE__*/_jsx(Box,{maxH:\"400px\",overflowY:\"auto\",children:/*#__PURE__*/_jsxs(Table,{variant:\"simple\",size:\"sm\",children:[/*#__PURE__*/_jsx(Thead,{position:\"sticky\",top:0,bg:cardBg,zIndex:1,children:/*#__PURE__*/_jsxs(Tr,{children:[/*#__PURE__*/_jsx(Th,{children:\"\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435\"}),/*#__PURE__*/_jsx(Th,{isNumeric:true,children:\"\\u0426\\u0435\\u043D\\u0430\"}),/*#__PURE__*/_jsx(Th,{width:\"80px\"})]})}),/*#__PURE__*/_jsx(Tbody,{children:filteredPrices.map(price=>/*#__PURE__*/_jsxs(Tr,{children:[/*#__PURE__*/_jsx(Td,{children:price.product.name}),/*#__PURE__*/_jsxs(Td,{isNumeric:true,children:[\"\\u20BD\",price.price.toLocaleString()]}),/*#__PURE__*/_jsx(Td,{children:/*#__PURE__*/_jsx(IconButton,{icon:/*#__PURE__*/_jsx(FiPlus,{}),\"aria-label\":\"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C\",size:\"xs\",colorScheme:\"brand\",onClick:()=>addItem(price)})})]},price._id))})]})})]})]})}),/*#__PURE__*/_jsx(Box,{children:/*#__PURE__*/_jsxs(Card,{bg:cardBg,boxShadow:\"sm\",borderRadius:\"lg\",mb:4,children:[/*#__PURE__*/_jsx(CardHeader,{pb:2,children:/*#__PURE__*/_jsx(Heading,{size:\"sm\",children:\"\\u041A\\u043E\\u0440\\u0437\\u0438\\u043D\\u0430\"})}),/*#__PURE__*/_jsx(CardBody,{children:selectedItems.length>0?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(Table,{variant:\"simple\",size:\"sm\",children:[/*#__PURE__*/_jsx(Thead,{children:/*#__PURE__*/_jsxs(Tr,{children:[/*#__PURE__*/_jsx(Th,{children:\"\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435\"}),/*#__PURE__*/_jsx(Th,{children:\"\\u041A\\u043E\\u043B-\\u0432\\u043E\"}),/*#__PURE__*/_jsx(Th,{isNumeric:true,children:\"\\u0426\\u0435\\u043D\\u0430\"}),/*#__PURE__*/_jsx(Th,{isNumeric:true,children:\"\\u0421\\u0443\\u043C\\u043C\\u0430\"}),/*#__PURE__*/_jsx(Th,{width:\"40px\"})]})}),/*#__PURE__*/_jsx(Tbody,{children:selectedItems.map(item=>/*#__PURE__*/_jsxs(Tr,{children:[/*#__PURE__*/_jsx(Td,{children:item.productName}),/*#__PURE__*/_jsx(Td,{children:/*#__PURE__*/_jsxs(HStack,{maxW:\"100px\",children:[/*#__PURE__*/_jsx(IconButton,{icon:/*#__PURE__*/_jsx(Icon,{as:FiTrash2}),\"aria-label\":\"\\u0423\\u043C\\u0435\\u043D\\u044C\\u0448\\u0438\\u0442\\u044C\",size:\"xs\",variant:\"ghost\",colorScheme:\"red\",onClick:()=>updateQuantity(item.priceId,item.quantity-1)}),/*#__PURE__*/_jsx(Text,{textAlign:\"center\",w:\"30px\",children:item.quantity}),/*#__PURE__*/_jsx(IconButton,{icon:/*#__PURE__*/_jsx(FiPlus,{}),\"aria-label\":\"\\u0423\\u0432\\u0435\\u043B\\u0438\\u0447\\u0438\\u0442\\u044C\",size:\"xs\",variant:\"ghost\",colorScheme:\"brand\",onClick:()=>updateQuantity(item.priceId,item.quantity+1)})]})}),/*#__PURE__*/_jsxs(Td,{isNumeric:true,children:[\"\\u20BD\",item.price.toLocaleString()]}),/*#__PURE__*/_jsxs(Td,{isNumeric:true,children:[\"\\u20BD\",(item.price*item.quantity).toLocaleString()]}),/*#__PURE__*/_jsx(Td,{children:/*#__PURE__*/_jsx(IconButton,{icon:/*#__PURE__*/_jsx(FiTrash2,{}),\"aria-label\":\"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C\",size:\"xs\",colorScheme:\"red\",variant:\"ghost\",onClick:()=>removeItem(item.priceId)})})]},item.priceId))})]}),/*#__PURE__*/_jsx(Divider,{my:4}),/*#__PURE__*/_jsxs(Flex,{justify:\"space-between\",align:\"center\",children:[/*#__PURE__*/_jsx(Text,{fontWeight:\"bold\",children:\"\\u0418\\u0442\\u043E\\u0433\\u043E:\"}),/*#__PURE__*/_jsxs(Text,{fontWeight:\"bold\",fontSize:\"xl\",children:[\"\\u20BD\",totalAmount.toLocaleString()]})]}),/*#__PURE__*/_jsx(Button,{colorScheme:\"brand\",mt:4,width:\"full\",disabled:selectedItems.length===0,children:\"\\u041E\\u0444\\u043E\\u0440\\u043C\\u0438\\u0442\\u044C \\u0437\\u0430\\u043A\\u0430\\u0437\"})]}):/*#__PURE__*/_jsx(Center,{py:8,children:/*#__PURE__*/_jsxs(VStack,{children:[/*#__PURE__*/_jsx(Icon,{as:FiShoppingCart,fontSize:\"4xl\",color:\"gray.400\"}),/*#__PURE__*/_jsx(Text,{color:\"gray.500\",children:\"\\u041A\\u043E\\u0440\\u0437\\u0438\\u043D\\u0430 \\u043F\\u0443\\u0441\\u0442\\u0430\"}),/*#__PURE__*/_jsx(Text,{fontSize:\"sm\",color:\"gray.400\",children:\"\\u0414\\u043E\\u0431\\u0430\\u0432\\u044C\\u0442\\u0435 \\u0442\\u043E\\u0432\\u0430\\u0440\\u044B \\u0438\\u0437 \\u0441\\u043F\\u0438\\u0441\\u043A\\u0430 \\u0441\\u043B\\u0435\\u0432\\u0430\"})]})})})]})})]})]});};// Stat Card Component\nconst StatCard=_ref3=>{let{title,value,icon,accentColor}=_ref3;const cardBg=useColorModeValue('white','gray.700');return/*#__PURE__*/_jsx(Card,{bg:cardBg,boxShadow:\"sm\",borderRadius:\"lg\",children:/*#__PURE__*/_jsx(CardBody,{children:/*#__PURE__*/_jsxs(Flex,{justify:\"space-between\",children:[/*#__PURE__*/_jsx(Box,{children:/*#__PURE__*/_jsxs(Stat,{children:[/*#__PURE__*/_jsx(StatLabel,{fontSize:\"sm\",fontWeight:\"medium\",isTruncated:true,children:title}),/*#__PURE__*/_jsx(StatNumber,{fontSize:\"3xl\",fontWeight:\"bold\",children:value})]})}),/*#__PURE__*/_jsx(Flex,{flexShrink:0,alignItems:\"center\",justifyContent:\"center\",borderRadius:\"full\",bg:`${accentColor}10`,color:accentColor,boxSize:12,children:/*#__PURE__*/_jsx(Icon,{as:icon,boxSize:6})})]})})});};// Helper functions\nconst getStatusText=status=>{switch(status){case'pending':return'Не оплачен';case'paid':return'Оплачен';case'cancelled':return'Отменен';default:return status;}};const getStatusColorScheme=status=>{switch(status){case'pending':return'orange';case'paid':return'green';case'cancelled':return'red';default:return'gray';}};const getPluralForm=count=>{// Russian plural forms for \"item\"\nif(count%10===1&&count%100!==11){return'товар';}else if([2,3,4].includes(count%10)&&![12,13,14].includes(count%100)){return'товара';}else{return'товаров';}};export default Dashboard;","map":{"version":3,"names":["React","useEffect","useState","useContext","Link","RouterLink","useNavigate","Box","Heading","Text","SimpleGrid","Stat","StatLabel","StatNumber","Card","CardHeader","CardBody","Button","Flex","Icon","Divider","useColorModeValue","Spinner","Center","Tabs","TabList","TabPanels","Tab","TabPanel","HStack","VStack","Avatar","Menu","MenuButton","MenuList","MenuItem","Table","Thead","Tbody","Tr","Th","Td","Input","Select","Badge","useDisclosure","Modal","ModalOverlay","ModalContent","ModalHeader","ModalFooter","ModalBody","ModalCloseButton","FormControl","FormLabel","IconButton","InputGroup","InputLeftElement","FiShoppingCart","FiDollarSign","FiAlertCircle","FiUser","FiPackage","FiLogOut","FiSearch","FiPlus","FiEdit","FiTrash2","FiCornerDownRight","FiCheck","API","AuthContext","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Dashboard","user","isAdmin","logout","activeTab","setActiveTab","loading","setLoading","navigate","handleLogout","cardBg","borderColor","children","bg","p","shadow","borderBottomWidth","justify","align","position","top","zIndex","size","spacing","username","as","color","cursor","icon","onClick","colorScheme","variant","onChange","index","isLazy","mb","mr","DashboardPanel","ClinicsPanel","ProductsPanel","OrdersPanel","PriceListPanel","CreateOrderPanel","_ref","stats","setStats","totalOrders","pendingOrders","totalSpent","recentOrders","fetchStats","ordersRes","get","pendingRes","data","filter","order","status","reduce","acc","totalAmount","length","slice","err","console","error","textColor","h","thickness","columns","base","md","StatCard","title","value","accentColor","toLocaleString","boxShadow","borderRadius","map","py","fontWeight","orderNumber","fontSize","Date","createdAt","toLocaleDateString","items","getPluralForm","getStatusColorScheme","getStatusText","_id","clinics","setClinics","isOpen","onOpen","onClose","searchTerm","setSearchTerm","fetchClinics","res","filteredClinics","clinic","name","toLowerCase","includes","leftIcon","pointerEvents","placeholder","e","target","overflow","width","_clinic$contact","_clinic$contact2","contact","phone","email","isRequired","type","products","setProducts","fetchProducts","filteredProducts","product","active","defaultValue","_ref2","orders","setOrders","statusFilter","setStatusFilter","fetchOrders","filteredOrders","toString","to","gap","direction","maxWidth","_order$clinic","prices","setPrices","fetchPrices","filteredPrices","price","isNumeric","selectedItems","setSelectedItems","addItem","existingItem","find","item","priceId","quantity","productId","productName","removeItem","updateQuantity","total","xl","pb","maxH","overflowY","maxW","textAlign","w","my","mt","disabled","_ref3","isTruncated","flexShrink","alignItems","justifyContent","boxSize","count"],"sources":["/Users/macbook1/Programming/jsstoma/client/src/pages/Dashboard.js"],"sourcesContent":["import React, { useEffect, useState, useContext } from 'react';\nimport { Link as RouterLink, useNavigate } from 'react-router-dom';\nimport {\n  Box,\n  Heading,\n  Text,\n  SimpleGrid,\n  Stat,\n  StatLabel,\n  StatNumber,\n  Card,\n  CardHeader,\n  CardBody,\n  Button,\n  Flex,\n  Icon,\n  Divider,\n  useColorModeValue,\n  Spinner,\n  Center,\n  Tabs,\n  TabList,\n  TabPanels,\n  Tab,\n  TabPanel,\n  HStack,\n  VStack,\n  Avatar,\n  Menu,\n  MenuButton,\n  MenuList,\n  MenuItem,\n  Table,\n  Thead,\n  Tbody,\n  Tr,\n  Th,\n  Td,\n  Input,\n  Select,\n  Badge,\n  useDisclosure,\n  Modal,\n  ModalOverlay,\n  ModalContent,\n  ModalHeader,\n  ModalFooter,\n  ModalBody,\n  ModalCloseButton,\n  FormControl,\n  FormLabel,\n  IconButton,\n  InputGroup,\n  InputLeftElement,\n} from '@chakra-ui/react';\nimport { FiShoppingCart, FiDollarSign, FiAlertCircle, FiUser, FiPackage, FiLogOut, FiSearch, FiPlus, FiEdit, FiTrash2, FiCornerDownRight, FiCheck } from 'react-icons/fi';\nimport API from '../utils/api';\nimport AuthContext from '../context/AuthContext';\n\nconst Dashboard = () => {\n  const { user, isAdmin, logout } = useContext(AuthContext);\n  const [activeTab, setActiveTab] = useState(0);\n  const [loading, setLoading] = useState(true);\n  const navigate = useNavigate();\n  \n  const handleLogout = () => {\n    logout();\n    navigate('/login');\n  };\n  \n  const cardBg = useColorModeValue('white', 'gray.700');\n  const borderColor = useColorModeValue('gray.200', 'gray.700');\n  \n  // Load data based on active tab\n  useEffect(() => {\n    setLoading(false);\n  }, [activeTab]);\n  \n  return (\n    <Box>\n      {/* Header */}\n      <Flex \n        bg={cardBg} \n        p={4} \n        shadow=\"sm\" \n        borderBottomWidth=\"1px\" \n        borderColor={borderColor}\n        justify=\"space-between\"\n        align=\"center\"\n        position=\"sticky\"\n        top={0}\n        zIndex={10}\n      >\n        <Heading size=\"lg\">Clinic Price Manager</Heading>\n        \n        <HStack spacing={4}>\n          <Text>{user?.username}</Text>\n          <Menu>\n            <MenuButton \n              as={Avatar}\n              size=\"sm\"\n              bg=\"brand.500\"\n              color=\"white\"\n              cursor=\"pointer\"\n            />\n            <MenuList>\n              <MenuItem \n                icon={<Icon as={FiLogOut} />} \n                onClick={handleLogout}\n              >\n                Выйти\n              </MenuItem>\n            </MenuList>\n          </Menu>\n        </HStack>\n      </Flex>\n      \n      <Box p={4}>\n        <Tabs \n          colorScheme=\"brand\" \n          variant=\"enclosed\" \n          onChange={(index) => setActiveTab(index)}\n          isLazy\n        >\n          <TabList mb={4}>\n            <Tab><Icon as={FiUser} mr={2} />Панель управления</Tab>\n            \n            {isAdmin ? (\n              <>\n                <Tab><Icon as={FiUser} mr={2} />Клиники</Tab>\n                <Tab><Icon as={FiPackage} mr={2} />Товары</Tab>\n                <Tab><Icon as={FiShoppingCart} mr={2} />Заказы</Tab>\n              </>\n            ) : (\n              <>\n                <Tab><Icon as={FiPackage} mr={2} />Прайс-лист</Tab>\n                <Tab><Icon as={FiShoppingCart} mr={2} />Заказы</Tab>\n                <Tab><Icon as={FiPlus} mr={2} />Создать заказ</Tab>\n              </>\n            )}\n          </TabList>\n          \n          <TabPanels>\n            {/* Dashboard Panel */}\n            <TabPanel p={0}>\n              <DashboardPanel isAdmin={isAdmin} />\n            </TabPanel>\n            \n            {/* Admin Panels */}\n            {isAdmin ? (\n              <>\n                <TabPanel p={0}>\n                  <ClinicsPanel />\n                </TabPanel>\n                <TabPanel p={0}>\n                  <ProductsPanel />\n                </TabPanel>\n                <TabPanel p={0}>\n                  <OrdersPanel isAdmin={true} />\n                </TabPanel>\n              </>\n            ) : (\n              <>\n                {/* Clinic Panels */}\n                <TabPanel p={0}>\n                  <PriceListPanel />\n                </TabPanel>\n                <TabPanel p={0}>\n                  <OrdersPanel isAdmin={false} />\n                </TabPanel>\n                <TabPanel p={0}>\n                  <CreateOrderPanel />\n                </TabPanel>\n              </>\n            )}\n          </TabPanels>\n        </Tabs>\n      </Box>\n    </Box>\n  );\n};\n\n// Dashboard Panel Component\nconst DashboardPanel = ({ isAdmin }) => {\n  const [stats, setStats] = useState({\n    totalOrders: 0,\n    pendingOrders: 0,\n    totalSpent: 0,\n    recentOrders: [],\n  });\n  const [loading, setLoading] = useState(true);\n  \n  useEffect(() => {\n    const fetchStats = async () => {\n      try {\n        // Get all orders\n        const ordersRes = await API.get('/orders');\n        \n        // Get pending orders\n        const pendingRes = await API.get('/orders/unpaid');\n        \n        // Calculate total spent (for paid orders only)\n        const totalSpent = ordersRes.data\n          .filter(order => order.status === 'paid')\n          .reduce((acc, order) => acc + order.totalAmount, 0);\n        \n        setStats({\n          totalOrders: ordersRes.data.length,\n          pendingOrders: pendingRes.data.length,\n          totalSpent,\n          recentOrders: ordersRes.data.slice(0, 5), // Get 5 most recent orders\n        });\n        \n        setLoading(false);\n      } catch (err) {\n        console.error('Error fetching dashboard data:', err);\n        setLoading(false);\n      }\n    };\n    \n    fetchStats();\n  }, []);\n  \n  const cardBg = useColorModeValue('white', 'gray.700');\n  const textColor = useColorModeValue('gray.600', 'gray.200');\n  \n  if (loading) {\n    return (\n      <Center h=\"200px\">\n        <Spinner size=\"xl\" color=\"brand.500\" thickness=\"4px\" />\n      </Center>\n    );\n  }\n  \n  return (\n    <Box>\n      <Heading size=\"md\" mb={6}>\n        {isAdmin ? 'Статистика системы' : 'Статистика клиники'}\n      </Heading>\n      \n      <SimpleGrid columns={{ base: 1, md: 3 }} spacing={6} mb={6}>\n        <StatCard\n          title=\"Всего заказов\"\n          value={stats.totalOrders}\n          icon={FiShoppingCart}\n          accentColor=\"brand.500\"\n        />\n        <StatCard\n          title=\"Неоплаченные заказы\"\n          value={stats.pendingOrders}\n          icon={FiAlertCircle}\n          accentColor=\"orange.500\"\n        />\n        <StatCard\n          title=\"Сумма оплаченных заказов\"\n          value={`₽${stats.totalSpent.toLocaleString()}`}\n          icon={FiDollarSign}\n          accentColor=\"green.500\"\n        />\n      </SimpleGrid>\n      \n      <Card bg={cardBg} boxShadow=\"sm\" borderRadius=\"lg\">\n        <CardHeader>\n          <Heading size=\"md\">Последние заказы</Heading>\n        </CardHeader>\n        <CardBody>\n          {stats.recentOrders.length > 0 ? (\n            stats.recentOrders.map((order, index) => (\n              <React.Fragment key={order._id}>\n                <Flex justify=\"space-between\" align=\"center\" py={2}>\n                  <Box>\n                    <Text fontWeight=\"bold\">Заказ #{order.orderNumber}</Text>\n                    <Text fontSize=\"sm\" color={textColor}>\n                      {new Date(order.createdAt).toLocaleDateString()} • {order.items.length} {getPluralForm(order.items.length)}\n                    </Text>\n                  </Box>\n                  <Box>\n                    <Badge colorScheme={getStatusColorScheme(order.status)}>\n                      {getStatusText(order.status)}\n                    </Badge>\n                    <Text fontWeight=\"medium\" fontSize=\"md\">\n                      ₽{order.totalAmount.toLocaleString()}\n                    </Text>\n                  </Box>\n                </Flex>\n                {index < stats.recentOrders.length - 1 && <Divider />}\n              </React.Fragment>\n            ))\n          ) : (\n            <Text>Нет заказов</Text>\n          )}\n        </CardBody>\n      </Card>\n    </Box>\n  );\n};\n\n// Clinics Panel Component (Admin only)\nconst ClinicsPanel = () => {\n  const [clinics, setClinics] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const { isOpen, onOpen, onClose } = useDisclosure();\n  const [searchTerm, setSearchTerm] = useState('');\n  \n  useEffect(() => {\n    const fetchClinics = async () => {\n      try {\n        const res = await API.get('/clinics');\n        setClinics(res.data);\n        setLoading(false);\n      } catch (err) {\n        console.error('Error fetching clinics:', err);\n        setLoading(false);\n      }\n    };\n    \n    fetchClinics();\n  }, []);\n  \n  const filteredClinics = clinics.filter(\n    clinic => clinic.name.toLowerCase().includes(searchTerm.toLowerCase())\n  );\n  \n  const cardBg = useColorModeValue('white', 'gray.700');\n  \n  if (loading) {\n    return (\n      <Center h=\"200px\">\n        <Spinner size=\"xl\" color=\"brand.500\" thickness=\"4px\" />\n      </Center>\n    );\n  }\n  \n  return (\n    <Box>\n      <Flex justify=\"space-between\" align=\"center\" mb={4}>\n        <Heading size=\"md\">Управление клиниками</Heading>\n        <Button leftIcon={<FiPlus />} colorScheme=\"brand\" onClick={onOpen}>\n          Добавить клинику\n        </Button>\n      </Flex>\n      \n      <InputGroup mb={4}>\n        <InputLeftElement pointerEvents=\"none\">\n          <Icon as={FiSearch} color=\"gray.400\" />\n        </InputLeftElement>\n        <Input\n          placeholder=\"Поиск клиники...\"\n          value={searchTerm}\n          onChange={e => setSearchTerm(e.target.value)}\n        />\n      </InputGroup>\n      \n      <Card bg={cardBg} boxShadow=\"sm\" borderRadius=\"lg\" overflow=\"hidden\">\n        <Table variant=\"simple\">\n          <Thead>\n            <Tr>\n              <Th>Название</Th>\n              <Th>Контакты</Th>\n              <Th width=\"120px\">Действия</Th>\n            </Tr>\n          </Thead>\n          <Tbody>\n            {filteredClinics.map(clinic => (\n              <Tr key={clinic._id}>\n                <Td fontWeight=\"medium\">{clinic.name}</Td>\n                <Td>\n                  <Text>{clinic.contact?.phone || '-'}</Text>\n                  <Text fontSize=\"sm\" color=\"gray.500\">{clinic.contact?.email || '-'}</Text>\n                </Td>\n                <Td>\n                  <HStack spacing={2}>\n                    <IconButton\n                      icon={<FiEdit />}\n                      aria-label=\"Редактировать\"\n                      size=\"sm\"\n                      colorScheme=\"blue\"\n                      variant=\"ghost\"\n                    />\n                    <IconButton\n                      icon={<FiTrash2 />}\n                      aria-label=\"Удалить\"\n                      size=\"sm\"\n                      colorScheme=\"red\"\n                      variant=\"ghost\"\n                    />\n                  </HStack>\n                </Td>\n              </Tr>\n            ))}\n          </Tbody>\n        </Table>\n      </Card>\n      \n      {/* Add Clinic Modal */}\n      <Modal isOpen={isOpen} onClose={onClose}>\n        <ModalOverlay />\n        <ModalContent>\n          <ModalHeader>Добавить клинику</ModalHeader>\n          <ModalCloseButton />\n          <ModalBody>\n            <VStack spacing={4}>\n              <FormControl isRequired>\n                <FormLabel>Название клиники</FormLabel>\n                <Input placeholder=\"Введите название\" />\n              </FormControl>\n              <FormControl>\n                <FormLabel>Телефон</FormLabel>\n                <Input placeholder=\"Введите телефон\" />\n              </FormControl>\n              <FormControl>\n                <FormLabel>Email</FormLabel>\n                <Input placeholder=\"Введите email\" />\n              </FormControl>\n              <FormControl isRequired>\n                <FormLabel>Имя пользователя</FormLabel>\n                <Input placeholder=\"Введите имя пользователя\" />\n              </FormControl>\n              <FormControl isRequired>\n                <FormLabel>Пароль</FormLabel>\n                <Input type=\"password\" placeholder=\"Введите пароль\" />\n              </FormControl>\n            </VStack>\n          </ModalBody>\n          <ModalFooter>\n            <Button variant=\"outline\" mr={3} onClick={onClose}>\n              Отмена\n            </Button>\n            <Button colorScheme=\"brand\">Сохранить</Button>\n          </ModalFooter>\n        </ModalContent>\n      </Modal>\n    </Box>\n  );\n};\n\n// Products Panel Component (Admin only)\nconst ProductsPanel = () => {\n  const [products, setProducts] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const { isOpen, onOpen, onClose } = useDisclosure();\n  const [searchTerm, setSearchTerm] = useState('');\n  \n  useEffect(() => {\n    const fetchProducts = async () => {\n      try {\n        const res = await API.get('/products');\n        setProducts(res.data);\n        setLoading(false);\n      } catch (err) {\n        console.error('Error fetching products:', err);\n        setLoading(false);\n      }\n    };\n    \n    fetchProducts();\n  }, []);\n  \n  const filteredProducts = products.filter(\n    product => product.name.toLowerCase().includes(searchTerm.toLowerCase())\n  );\n  \n  const cardBg = useColorModeValue('white', 'gray.700');\n  \n  if (loading) {\n    return (\n      <Center h=\"200px\">\n        <Spinner size=\"xl\" color=\"brand.500\" thickness=\"4px\" />\n      </Center>\n    );\n  }\n  \n  return (\n    <Box>\n      <Flex justify=\"space-between\" align=\"center\" mb={4}>\n        <Heading size=\"md\">Управление товарами</Heading>\n        <Button leftIcon={<FiPlus />} colorScheme=\"brand\" onClick={onOpen}>\n          Добавить товар\n        </Button>\n      </Flex>\n      \n      <InputGroup mb={4}>\n        <InputLeftElement pointerEvents=\"none\">\n          <Icon as={FiSearch} color=\"gray.400\" />\n        </InputLeftElement>\n        <Input\n          placeholder=\"Поиск товара...\"\n          value={searchTerm}\n          onChange={e => setSearchTerm(e.target.value)}\n        />\n      </InputGroup>\n      \n      <Card bg={cardBg} boxShadow=\"sm\" borderRadius=\"lg\" overflow=\"hidden\">\n        <Table variant=\"simple\">\n          <Thead>\n            <Tr>\n              <Th>Название</Th>\n              <Th>Статус</Th>\n              <Th width=\"120px\">Действия</Th>\n            </Tr>\n          </Thead>\n          <Tbody>\n            {filteredProducts.map(product => (\n              <Tr key={product._id}>\n                <Td fontWeight=\"medium\">{product.name}</Td>\n                <Td>\n                  <Badge colorScheme={product.active ? 'green' : 'red'}>\n                    {product.active ? 'Активен' : 'Неактивен'}\n                  </Badge>\n                </Td>\n                <Td>\n                  <HStack spacing={2}>\n                    <IconButton\n                      icon={<FiEdit />}\n                      aria-label=\"Редактировать\"\n                      size=\"sm\"\n                      colorScheme=\"blue\"\n                      variant=\"ghost\"\n                    />\n                    <IconButton\n                      icon={<FiTrash2 />}\n                      aria-label=\"Удалить\"\n                      size=\"sm\"\n                      colorScheme=\"red\"\n                      variant=\"ghost\"\n                    />\n                  </HStack>\n                </Td>\n              </Tr>\n            ))}\n          </Tbody>\n        </Table>\n      </Card>\n      \n      {/* Add Product Modal */}\n      <Modal isOpen={isOpen} onClose={onClose}>\n        <ModalOverlay />\n        <ModalContent>\n          <ModalHeader>Добавить товар</ModalHeader>\n          <ModalCloseButton />\n          <ModalBody>\n            <VStack spacing={4}>\n              <FormControl isRequired>\n                <FormLabel>Название товара</FormLabel>\n                <Input placeholder=\"Введите название\" />\n              </FormControl>\n              <FormControl>\n                <FormLabel>Статус</FormLabel>\n                <Select defaultValue=\"true\">\n                  <option value=\"true\">Активен</option>\n                  <option value=\"false\">Неактивен</option>\n                </Select>\n              </FormControl>\n            </VStack>\n          </ModalBody>\n          <ModalFooter>\n            <Button variant=\"outline\" mr={3} onClick={onClose}>\n              Отмена\n            </Button>\n            <Button colorScheme=\"brand\">Сохранить</Button>\n          </ModalFooter>\n        </ModalContent>\n      </Modal>\n    </Box>\n  );\n};\n\n// Orders Panel Component\nconst OrdersPanel = ({ isAdmin }) => {\n  const [orders, setOrders] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [statusFilter, setStatusFilter] = useState('');\n  const [searchTerm, setSearchTerm] = useState('');\n  \n  useEffect(() => {\n    const fetchOrders = async () => {\n      try {\n        const res = await API.get('/orders');\n        setOrders(res.data);\n        setLoading(false);\n      } catch (err) {\n        console.error('Error fetching orders:', err);\n        setLoading(false);\n      }\n    };\n    \n    fetchOrders();\n  }, []);\n  \n  const filteredOrders = orders\n    .filter(order => statusFilter ? order.status === statusFilter : true)\n    .filter(order => \n      order.orderNumber.toString().includes(searchTerm) || \n      (order.clinic && order.clinic.name.toLowerCase().includes(searchTerm.toLowerCase()))\n    );\n  \n  const cardBg = useColorModeValue('white', 'gray.700');\n  \n  if (loading) {\n    return (\n      <Center h=\"200px\">\n        <Spinner size=\"xl\" color=\"brand.500\" thickness=\"4px\" />\n      </Center>\n    );\n  }\n  \n  return (\n    <Box>\n      <Flex justify=\"space-between\" align=\"center\" mb={4}>\n        <Heading size=\"md\">Управление заказами</Heading>\n        {!isAdmin && (\n          <Button \n            leftIcon={<FiPlus />} \n            colorScheme=\"brand\"\n            as={RouterLink}\n            to=\"/orders/create\"\n          >\n            Создать заказ\n          </Button>\n        )}\n      </Flex>\n      \n      <Flex mb={4} gap={4} direction={{ base: \"column\", md: \"row\" }}>\n        <InputGroup>\n          <InputLeftElement pointerEvents=\"none\">\n            <Icon as={FiSearch} color=\"gray.400\" />\n          </InputLeftElement>\n          <Input\n            placeholder=\"Поиск заказа...\"\n            value={searchTerm}\n            onChange={e => setSearchTerm(e.target.value)}\n          />\n        </InputGroup>\n        \n        <Select \n          placeholder=\"Все статусы\" \n          value={statusFilter} \n          onChange={e => setStatusFilter(e.target.value)}\n          maxWidth={{ base: \"100%\", md: \"200px\" }}\n        >\n          <option value=\"pending\">Не оплачен</option>\n          <option value=\"paid\">Оплачен</option>\n          <option value=\"cancelled\">Отменен</option>\n        </Select>\n      </Flex>\n      \n      <Card bg={cardBg} boxShadow=\"sm\" borderRadius=\"lg\" overflow=\"hidden\">\n        <Table variant=\"simple\">\n          <Thead>\n            <Tr>\n              <Th>№ заказа</Th>\n              {isAdmin && <Th>Клиника</Th>}\n              <Th>Дата</Th>\n              <Th>Сумма</Th>\n              <Th>Статус</Th>\n              <Th width=\"120px\">Действия</Th>\n            </Tr>\n          </Thead>\n          <Tbody>\n            {filteredOrders.map(order => (\n              <Tr key={order._id}>\n                <Td fontWeight=\"medium\">#{order.orderNumber}</Td>\n                {isAdmin && <Td>{order.clinic?.name || '-'}</Td>}\n                <Td>{new Date(order.createdAt).toLocaleDateString()}</Td>\n                <Td>₽{order.totalAmount.toLocaleString()}</Td>\n                <Td>\n                  <Badge colorScheme={getStatusColorScheme(order.status)}>\n                    {getStatusText(order.status)}\n                  </Badge>\n                </Td>\n                <Td>\n                  <HStack spacing={2}>\n                    {isAdmin && order.status === 'pending' && (\n                      <IconButton\n                        icon={<FiCheck />}\n                        aria-label=\"Отметить как оплаченный\"\n                        size=\"sm\"\n                        colorScheme=\"green\"\n                        variant=\"ghost\"\n                      />\n                    )}\n                    <IconButton\n                      icon={<FiCornerDownRight />}\n                      aria-label=\"Детали\"\n                      size=\"sm\"\n                      colorScheme=\"blue\"\n                      variant=\"ghost\"\n                    />\n                  </HStack>\n                </Td>\n              </Tr>\n            ))}\n          </Tbody>\n        </Table>\n      </Card>\n    </Box>\n  );\n};\n\n// Price List Panel Component (Clinic only)\nconst PriceListPanel = () => {\n  const [prices, setPrices] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [searchTerm, setSearchTerm] = useState('');\n  \n  useEffect(() => {\n    const fetchPrices = async () => {\n      try {\n        const res = await API.get('/prices');\n        setPrices(res.data);\n        setLoading(false);\n      } catch (err) {\n        console.error('Error fetching prices:', err);\n        setLoading(false);\n      }\n    };\n    \n    fetchPrices();\n  }, []);\n  \n  const filteredPrices = prices.filter(\n    price => price.product.name.toLowerCase().includes(searchTerm.toLowerCase())\n  );\n  \n  const cardBg = useColorModeValue('white', 'gray.700');\n  \n  if (loading) {\n    return (\n      <Center h=\"200px\">\n        <Spinner size=\"xl\" color=\"brand.500\" thickness=\"4px\" />\n      </Center>\n    );\n  }\n  \n  return (\n    <Box>\n      <Heading size=\"md\" mb={4}>Прайс-лист</Heading>\n      \n      <InputGroup mb={4}>\n        <InputLeftElement pointerEvents=\"none\">\n          <Icon as={FiSearch} color=\"gray.400\" />\n        </InputLeftElement>\n        <Input\n          placeholder=\"Поиск товара...\"\n          value={searchTerm}\n          onChange={e => setSearchTerm(e.target.value)}\n        />\n      </InputGroup>\n      \n      <Card bg={cardBg} boxShadow=\"sm\" borderRadius=\"lg\" overflow=\"hidden\">\n        <Table variant=\"simple\">\n          <Thead>\n            <Tr>\n              <Th>Название</Th>\n              <Th isNumeric>Цена</Th>\n            </Tr>\n          </Thead>\n          <Tbody>\n            {filteredPrices.map(price => (\n              <Tr key={price._id}>\n                <Td fontWeight=\"medium\">{price.product.name}</Td>\n                <Td isNumeric fontWeight=\"bold\">₽{price.price.toLocaleString()}</Td>\n              </Tr>\n            ))}\n          </Tbody>\n        </Table>\n      </Card>\n    </Box>\n  );\n};\n\n// Create Order Panel Component (Clinic only)\nconst CreateOrderPanel = () => {\n  const [prices, setPrices] = useState([]);\n  const [selectedItems, setSelectedItems] = useState([]);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [loading, setLoading] = useState(true);\n  \n  useEffect(() => {\n    const fetchPrices = async () => {\n      try {\n        const res = await API.get('/prices');\n        setPrices(res.data);\n        setLoading(false);\n      } catch (err) {\n        console.error('Error fetching prices:', err);\n        setLoading(false);\n      }\n    };\n    \n    fetchPrices();\n  }, []);\n  \n  const addItem = (price) => {\n    const existingItem = selectedItems.find(item => item.priceId === price._id);\n    \n    if (existingItem) {\n      setSelectedItems(\n        selectedItems.map(item => \n          item.priceId === price._id \n            ? { ...item, quantity: item.quantity + 1 }\n            : item\n        )\n      );\n    } else {\n      setSelectedItems([\n        ...selectedItems,\n        {\n          priceId: price._id,\n          productId: price.product._id,\n          productName: price.product.name,\n          price: price.price,\n          quantity: 1\n        }\n      ]);\n    }\n  };\n  \n  const removeItem = (priceId) => {\n    setSelectedItems(selectedItems.filter(item => item.priceId !== priceId));\n  };\n  \n  const updateQuantity = (priceId, quantity) => {\n    if (quantity < 1) return;\n    \n    setSelectedItems(\n      selectedItems.map(item => \n        item.priceId === priceId \n          ? { ...item, quantity }\n          : item\n      )\n    );\n  };\n  \n  const filteredPrices = prices.filter(\n    price => price.product.name.toLowerCase().includes(searchTerm.toLowerCase())\n  );\n  \n  const totalAmount = selectedItems.reduce(\n    (total, item) => total + (item.price * item.quantity), \n    0\n  );\n  \n  const cardBg = useColorModeValue('white', 'gray.700');\n  const borderColor = useColorModeValue('gray.200', 'gray.600');\n  \n  if (loading) {\n    return (\n      <Center h=\"200px\">\n        <Spinner size=\"xl\" color=\"brand.500\" thickness=\"4px\" />\n      </Center>\n    );\n  }\n  \n  return (\n    <Box>\n      <Heading size=\"md\" mb={6}>Создание заказа</Heading>\n      \n      <SimpleGrid columns={{ base: 1, xl: 2 }} spacing={6}>\n        <Box>\n          <Card bg={cardBg} boxShadow=\"sm\" borderRadius=\"lg\" mb={4}>\n            <CardHeader pb={2}>\n              <Heading size=\"sm\">Товары и услуги</Heading>\n            </CardHeader>\n            <CardBody>\n              <InputGroup mb={4}>\n                <InputLeftElement pointerEvents=\"none\">\n                  <Icon as={FiSearch} color=\"gray.400\" />\n                </InputLeftElement>\n                <Input\n                  placeholder=\"Поиск товара...\"\n                  value={searchTerm}\n                  onChange={e => setSearchTerm(e.target.value)}\n                />\n              </InputGroup>\n              \n              <Box maxH=\"400px\" overflowY=\"auto\">\n                <Table variant=\"simple\" size=\"sm\">\n                  <Thead position=\"sticky\" top={0} bg={cardBg} zIndex={1}>\n                    <Tr>\n                      <Th>Название</Th>\n                      <Th isNumeric>Цена</Th>\n                      <Th width=\"80px\"></Th>\n                    </Tr>\n                  </Thead>\n                  <Tbody>\n                    {filteredPrices.map(price => (\n                      <Tr key={price._id}>\n                        <Td>{price.product.name}</Td>\n                        <Td isNumeric>₽{price.price.toLocaleString()}</Td>\n                        <Td>\n                          <IconButton\n                            icon={<FiPlus />}\n                            aria-label=\"Добавить\"\n                            size=\"xs\"\n                            colorScheme=\"brand\"\n                            onClick={() => addItem(price)}\n                          />\n                        </Td>\n                      </Tr>\n                    ))}\n                  </Tbody>\n                </Table>\n              </Box>\n            </CardBody>\n          </Card>\n        </Box>\n        \n        <Box>\n          <Card bg={cardBg} boxShadow=\"sm\" borderRadius=\"lg\" mb={4}>\n            <CardHeader pb={2}>\n              <Heading size=\"sm\">Корзина</Heading>\n            </CardHeader>\n            <CardBody>\n              {selectedItems.length > 0 ? (\n                <>\n                  <Table variant=\"simple\" size=\"sm\">\n                    <Thead>\n                      <Tr>\n                        <Th>Название</Th>\n                        <Th>Кол-во</Th>\n                        <Th isNumeric>Цена</Th>\n                        <Th isNumeric>Сумма</Th>\n                        <Th width=\"40px\"></Th>\n                      </Tr>\n                    </Thead>\n                    <Tbody>\n                      {selectedItems.map(item => (\n                        <Tr key={item.priceId}>\n                          <Td>{item.productName}</Td>\n                          <Td>\n                            <HStack maxW=\"100px\">\n                              <IconButton\n                                icon={<Icon as={FiTrash2} />}\n                                aria-label=\"Уменьшить\"\n                                size=\"xs\"\n                                variant=\"ghost\"\n                                colorScheme=\"red\"\n                                onClick={() => updateQuantity(item.priceId, item.quantity - 1)}\n                              />\n                              <Text textAlign=\"center\" w=\"30px\">{item.quantity}</Text>\n                              <IconButton\n                                icon={<FiPlus />}\n                                aria-label=\"Увеличить\"\n                                size=\"xs\"\n                                variant=\"ghost\"\n                                colorScheme=\"brand\"\n                                onClick={() => updateQuantity(item.priceId, item.quantity + 1)}\n                              />\n                            </HStack>\n                          </Td>\n                          <Td isNumeric>₽{item.price.toLocaleString()}</Td>\n                          <Td isNumeric>₽{(item.price * item.quantity).toLocaleString()}</Td>\n                          <Td>\n                            <IconButton\n                              icon={<FiTrash2 />}\n                              aria-label=\"Удалить\"\n                              size=\"xs\"\n                              colorScheme=\"red\"\n                              variant=\"ghost\"\n                              onClick={() => removeItem(item.priceId)}\n                            />\n                          </Td>\n                        </Tr>\n                      ))}\n                    </Tbody>\n                  </Table>\n                  \n                  <Divider my={4} />\n                  \n                  <Flex justify=\"space-between\" align=\"center\">\n                    <Text fontWeight=\"bold\">Итого:</Text>\n                    <Text fontWeight=\"bold\" fontSize=\"xl\">₽{totalAmount.toLocaleString()}</Text>\n                  </Flex>\n                  \n                  <Button \n                    colorScheme=\"brand\" \n                    mt={4} \n                    width=\"full\"\n                    disabled={selectedItems.length === 0}\n                  >\n                    Оформить заказ\n                  </Button>\n                </>\n              ) : (\n                <Center py={8}>\n                  <VStack>\n                    <Icon as={FiShoppingCart} fontSize=\"4xl\" color=\"gray.400\" />\n                    <Text color=\"gray.500\">Корзина пуста</Text>\n                    <Text fontSize=\"sm\" color=\"gray.400\">\n                      Добавьте товары из списка слева\n                    </Text>\n                  </VStack>\n                </Center>\n              )}\n            </CardBody>\n          </Card>\n        </Box>\n      </SimpleGrid>\n    </Box>\n  );\n};\n\n// Stat Card Component\nconst StatCard = ({ title, value, icon, accentColor }) => {\n  const cardBg = useColorModeValue('white', 'gray.700');\n  \n  return (\n    <Card bg={cardBg} boxShadow=\"sm\" borderRadius=\"lg\">\n      <CardBody>\n        <Flex justify=\"space-between\">\n          <Box>\n            <Stat>\n              <StatLabel fontSize=\"sm\" fontWeight=\"medium\" isTruncated>\n                {title}\n              </StatLabel>\n              <StatNumber fontSize=\"3xl\" fontWeight=\"bold\">\n                {value}\n              </StatNumber>\n            </Stat>\n          </Box>\n          <Flex\n            flexShrink={0}\n            alignItems=\"center\"\n            justifyContent=\"center\"\n            borderRadius=\"full\"\n            bg={`${accentColor}10`}\n            color={accentColor}\n            boxSize={12}\n          >\n            <Icon as={icon} boxSize={6} />\n          </Flex>\n        </Flex>\n      </CardBody>\n    </Card>\n  );\n};\n\n// Helper functions\nconst getStatusText = (status) => {\n  switch (status) {\n    case 'pending': return 'Не оплачен';\n    case 'paid': return 'Оплачен';\n    case 'cancelled': return 'Отменен';\n    default: return status;\n  }\n};\n\nconst getStatusColorScheme = (status) => {\n  switch (status) {\n    case 'pending': return 'orange';\n    case 'paid': return 'green';\n    case 'cancelled': return 'red';\n    default: return 'gray';\n  }\n};\n\nconst getPluralForm = (count) => {\n  // Russian plural forms for \"item\"\n  if (count % 10 === 1 && count % 100 !== 11) {\n    return 'товар';\n  } else if ([2, 3, 4].includes(count % 10) && ![12, 13, 14].includes(count % 100)) {\n    return 'товара';\n  } else {\n    return 'товаров';\n  }\n};\n\nexport default Dashboard; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}